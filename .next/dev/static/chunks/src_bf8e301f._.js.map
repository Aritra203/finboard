{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/store/dashboardStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\nexport type DisplayMode = 'card' | 'table' | 'chart';\nexport type ChartType = 'line' | 'candlestick';\nexport type ChartInterval = 'daily' | 'weekly' | 'monthly';\nexport type ConnectionType = 'http' | 'websocket';\nexport type WebSocketStatus = 'connecting' | 'connected' | 'disconnected' | 'error';\n\nexport interface WidgetField {\n  path: string;\n  label: string;\n  type: string;\n  value?: unknown;\n}\n\nexport interface Widget {\n  id: string;\n  name: string;\n  apiUrl: string;\n  connectionType: ConnectionType;\n  websocketStatus?: WebSocketStatus;\n  refreshInterval: number;\n  displayMode: DisplayMode;\n  chartType: ChartType;\n  chartInterval: ChartInterval;\n  selectedFields: WidgetField[];\n  data: unknown | null;\n  lastUpdated: string | null;\n  isLoading: boolean;\n  error: string | null;\n  order: number;\n}\n\nexport interface DashboardExport {\n  version: string;\n  exportedAt: string;\n  widgets: Omit<Widget, 'data' | 'lastUpdated' | 'isLoading' | 'error' | 'websocketStatus'>[];\n}\n\ninterface DashboardState {\n  widgets: Widget[];\n  addWidget: (widget: Omit<Widget, 'id' | 'data' | 'lastUpdated' | 'isLoading' | 'error' | 'order' | 'websocketStatus'>) => void;\n  removeWidget: (id: string) => void;\n  updateWidget: (id: string, updates: Partial<Widget>) => void;\n  reorderWidgets: (activeId: string, overId: string) => void;\n  setWidgetData: (id: string, data: unknown) => void;\n  setWidgetLoading: (id: string, isLoading: boolean) => void;\n  setWidgetError: (id: string, error: string | null) => void;\n  setWebSocketStatus: (id: string, status: WebSocketStatus) => void;\n  exportDashboard: () => DashboardExport;\n  importDashboard: (data: DashboardExport, mode: 'replace' | 'merge') => { success: boolean; message: string };\n  clearAllWidgets: () => void;\n}\n\nexport const useDashboardStore = create<DashboardState>()(\n  persist(\n    (set, get) => ({\n      widgets: [],\n      \n      addWidget: (widgetData) => {\n        const id = `widget-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n        const order = get().widgets.length;\n        \n        set((state) => ({\n          widgets: [\n            ...state.widgets,\n            {\n              ...widgetData,\n              id,\n              order,\n              data: null,\n              lastUpdated: null,\n              isLoading: false,\n              error: null,\n            },\n          ],\n        }));\n      },\n      \n      removeWidget: (id) => {\n        set((state) => ({\n          widgets: state.widgets\n            .filter((w) => w.id !== id)\n            .map((w, index) => ({ ...w, order: index })),\n        }));\n      },\n      \n      updateWidget: (id, updates) => {\n        set((state) => ({\n          widgets: state.widgets.map((w) =>\n            w.id === id ? { ...w, ...updates } : w\n          ),\n        }));\n      },\n      \n      reorderWidgets: (activeId, overId) => {\n        set((state) => {\n          const oldIndex = state.widgets.findIndex((w) => w.id === activeId);\n          const newIndex = state.widgets.findIndex((w) => w.id === overId);\n          \n          if (oldIndex === -1 || newIndex === -1) return state;\n          \n          const newWidgets = [...state.widgets];\n          const [movedWidget] = newWidgets.splice(oldIndex, 1);\n          newWidgets.splice(newIndex, 0, movedWidget);\n          \n          return {\n            widgets: newWidgets.map((w, index) => ({ ...w, order: index })),\n          };\n        });\n      },\n      \n      setWidgetData: (id, data) => {\n        set((state) => ({\n          widgets: state.widgets.map((w) =>\n            w.id === id\n              ? { ...w, data, lastUpdated: new Date().toLocaleTimeString(), error: null }\n              : w\n          ),\n        }));\n      },\n      \n      setWidgetLoading: (id, isLoading) => {\n        set((state) => ({\n          widgets: state.widgets.map((w) =>\n            w.id === id ? { ...w, isLoading } : w\n          ),\n        }));\n      },\n      \n      setWidgetError: (id, error) => {\n        set((state) => ({\n          widgets: state.widgets.map((w) =>\n            w.id === id ? { ...w, error, isLoading: false } : w\n          ),\n        }));\n      },\n\n      setWebSocketStatus: (id, websocketStatus) => {\n        set((state) => ({\n          widgets: state.widgets.map((w) =>\n            w.id === id ? { ...w, websocketStatus } : w\n          ),\n        }));\n      },\n\n      exportDashboard: () => {\n        const state = get();\n        return {\n          version: '1.0.0',\n          exportedAt: new Date().toISOString(),\n          widgets: state.widgets.map((w) => ({\n            id: w.id,\n            name: w.name,\n            apiUrl: w.apiUrl,\n            connectionType: w.connectionType,\n            refreshInterval: w.refreshInterval,\n            displayMode: w.displayMode,\n            chartType: w.chartType,\n            chartInterval: w.chartInterval,\n            selectedFields: w.selectedFields,\n            order: w.order,\n          })),\n        };\n      },\n\n      importDashboard: (data, mode) => {\n        try {\n          if (!data.version || !data.widgets || !Array.isArray(data.widgets)) {\n            return { success: false, message: 'Invalid dashboard file format' };\n          }\n\n          const importedWidgets: Widget[] = data.widgets.map((w, index) => ({\n            ...w,\n            id: mode === 'replace' ? w.id : `widget-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n            order: mode === 'replace' ? w.order : get().widgets.length + index,\n            data: null,\n            lastUpdated: null,\n            isLoading: false,\n            error: null,\n          }));\n\n          if (mode === 'replace') {\n            set({ widgets: importedWidgets });\n          } else {\n            set((state) => ({\n              widgets: [...state.widgets, ...importedWidgets],\n            }));\n          }\n\n          return { \n            success: true, \n            message: `Successfully imported ${importedWidgets.length} widget(s)` \n          };\n        } catch {\n          return { success: false, message: 'Failed to parse dashboard file' };\n        }\n      },\n\n      clearAllWidgets: () => {\n        set({ widgets: [] });\n      },\n    }),\n    {\n      name: 'finboard-dashboard',\n      partialize: (state) => ({\n        widgets: state.widgets.map((w) => ({\n          ...w,\n          data: null,\n          isLoading: false,\n          error: null,\n          lastUpdated: null,\n        })),\n      }),\n    }\n  )\n);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/lib/cache.ts"],"sourcesContent":["interface CacheEntry<T> {\r\n  data: T;\r\n  timestamp: number;\r\n  expiresAt: number;\r\n}\r\n\r\ninterface RateLimitInfo {\r\n  url: string;\r\n  retryAfter: number;\r\n  hitAt: number;\r\n}\r\n\r\nclass APICache {\r\n  private cache: Map<string, CacheEntry<unknown>> = new Map();\r\n  private rateLimits: Map<string, RateLimitInfo> = new Map();\r\n  private defaultTTL: number = 30000;\r\n\r\n  get<T>(url: string): T | null {\r\n    const entry = this.cache.get(url);\r\n    if (!entry) return null;\r\n\r\n    const now = Date.now();\r\n    if (now > entry.expiresAt) {\r\n      this.cache.delete(url);\r\n      return null;\r\n    }\r\n\r\n    return entry.data as T;\r\n  }\r\n\r\n  set<T>(url: string, data: T, ttlMs?: number): void {\r\n    const now = Date.now();\r\n    this.cache.set(url, {\r\n      data,\r\n      timestamp: now,\r\n      expiresAt: now + (ttlMs || this.defaultTTL),\r\n    });\r\n  }\r\n\r\n  isRateLimited(url: string): { limited: boolean; retryAfter?: number } {\r\n    const domain = this.extractDomain(url);\r\n    const info = this.rateLimits.get(domain);\r\n    \r\n    if (!info) return { limited: false };\r\n\r\n    const now = Date.now();\r\n    const timeLeft = info.retryAfter - (now - info.hitAt);\r\n\r\n    if (timeLeft <= 0) {\r\n      this.rateLimits.delete(domain);\r\n      return { limited: false };\r\n    }\r\n\r\n    return { limited: true, retryAfter: Math.ceil(timeLeft / 1000) };\r\n  }\r\n\r\n  setRateLimited(url: string, retryAfterSeconds: number = 60): void {\r\n    const domain = this.extractDomain(url);\r\n    this.rateLimits.set(domain, {\r\n      url: domain,\r\n      retryAfter: retryAfterSeconds * 1000,\r\n      hitAt: Date.now(),\r\n    });\r\n  }\r\n\r\n  clearRateLimit(url: string): void {\r\n    const domain = this.extractDomain(url);\r\n    this.rateLimits.delete(domain);\r\n  }\r\n\r\n  getStats(): { cacheSize: number; rateLimitedDomains: string[] } {\r\n    return {\r\n      cacheSize: this.cache.size,\r\n      rateLimitedDomains: Array.from(this.rateLimits.keys()),\r\n    };\r\n  }\r\n\r\n  clear(): void {\r\n    this.cache.clear();\r\n  }\r\n\r\n  cleanup(): void {\r\n    const now = Date.now();\r\n    for (const [key, entry] of this.cache.entries()) {\r\n      if (now > entry.expiresAt) {\r\n        this.cache.delete(key);\r\n      }\r\n    }\r\n  }\r\n\r\n  private extractDomain(url: string): string {\r\n    try {\r\n      const urlObj = new URL(url);\r\n      return urlObj.hostname;\r\n    } catch {\r\n      return url;\r\n    }\r\n  }\r\n}\r\n\r\nexport const apiCache = new APICache();\r\n\r\nif (typeof window !== 'undefined') {\r\n  setInterval(() => apiCache.cleanup(), 5 * 60 * 1000);\r\n}\r\n"],"names":[],"mappings":";;;;AAYA,MAAM;IACI,QAA0C,IAAI,MAAM;IACpD,aAAyC,IAAI,MAAM;IACnD,aAAqB,MAAM;IAEnC,IAAO,GAAW,EAAY;QAC5B,MAAM,QAAQ,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;QAC7B,IAAI,CAAC,OAAO,OAAO;QAEnB,MAAM,MAAM,KAAK,GAAG;QACpB,IAAI,MAAM,MAAM,SAAS,EAAE;YACzB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAClB,OAAO;QACT;QAEA,OAAO,MAAM,IAAI;IACnB;IAEA,IAAO,GAAW,EAAE,IAAO,EAAE,KAAc,EAAQ;QACjD,MAAM,MAAM,KAAK,GAAG;QACpB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK;YAClB;YACA,WAAW;YACX,WAAW,MAAM,CAAC,SAAS,IAAI,CAAC,UAAU;QAC5C;IACF;IAEA,cAAc,GAAW,EAA6C;QACpE,MAAM,SAAS,IAAI,CAAC,aAAa,CAAC;QAClC,MAAM,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;QAEjC,IAAI,CAAC,MAAM,OAAO;YAAE,SAAS;QAAM;QAEnC,MAAM,MAAM,KAAK,GAAG;QACpB,MAAM,WAAW,KAAK,UAAU,GAAG,CAAC,MAAM,KAAK,KAAK;QAEpD,IAAI,YAAY,GAAG;YACjB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YACvB,OAAO;gBAAE,SAAS;YAAM;QAC1B;QAEA,OAAO;YAAE,SAAS;YAAM,YAAY,KAAK,IAAI,CAAC,WAAW;QAAM;IACjE;IAEA,eAAe,GAAW,EAAE,oBAA4B,EAAE,EAAQ;QAChE,MAAM,SAAS,IAAI,CAAC,aAAa,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ;YAC1B,KAAK;YACL,YAAY,oBAAoB;YAChC,OAAO,KAAK,GAAG;QACjB;IACF;IAEA,eAAe,GAAW,EAAQ;QAChC,MAAM,SAAS,IAAI,CAAC,aAAa,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;IACzB;IAEA,WAAgE;QAC9D,OAAO;YACL,WAAW,IAAI,CAAC,KAAK,CAAC,IAAI;YAC1B,oBAAoB,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI;QACrD;IACF;IAEA,QAAc;QACZ,IAAI,CAAC,KAAK,CAAC,KAAK;IAClB;IAEA,UAAgB;QACd,MAAM,MAAM,KAAK,GAAG;QACpB,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,GAAI;YAC/C,IAAI,MAAM,MAAM,SAAS,EAAE;gBACzB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YACpB;QACF;IACF;IAEQ,cAAc,GAAW,EAAU;QACzC,IAAI;YACF,MAAM,SAAS,IAAI,IAAI;YACvB,OAAO,OAAO,QAAQ;QACxB,EAAE,OAAM;YACN,OAAO;QACT;IACF;AACF;AAEO,MAAM,WAAW,IAAI;AAE5B,wCAAmC;IACjC,YAAY,IAAM,SAAS,OAAO,IAAI,IAAI,KAAK;AACjD"}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/lib/apiUtils.ts"],"sourcesContent":["import { apiCache } from './cache';\n\nexport interface FieldInfo {\n  path: string;\n  label: string;\n  type: string;\n  value: unknown;\n  isArray: boolean;\n  arrayLength?: number;\n}\n\nexport interface FetchOptions {\n  useCache?: boolean;\n  cacheTTL?: number;\n  retryOnRateLimit?: boolean;\n  maxRetries?: number;\n}\n\nexport interface FetchResult<T = unknown> {\n  success: boolean;\n  data?: T;\n  error?: string;\n  fromCache?: boolean;\n  rateLimited?: boolean;\n  retryAfter?: number;\n}\n\nexport function extractFields(obj: unknown, prefix = '', maxDepth = 5): FieldInfo[] {\n  const fields: FieldInfo[] = [];\n  \n  if (maxDepth <= 0) return fields;\n  \n  if (obj === null || obj === undefined) {\n    return fields;\n  }\n  \n  if (Array.isArray(obj)) {\n    fields.push({\n      path: prefix || 'root',\n      label: prefix || 'root',\n      type: 'array',\n      value: obj,\n      isArray: true,\n      arrayLength: obj.length,\n    });\n    \n    if (obj.length > 0 && typeof obj[0] === 'object' && obj[0] !== null) {\n      const nestedFields = extractFields(obj[0], prefix ? `${prefix}[0]` : '[0]', maxDepth - 1);\n      fields.push(...nestedFields);\n    }\n    return fields;\n  }\n  \n  if (typeof obj === 'object') {\n    for (const [key, value] of Object.entries(obj)) {\n      const path = prefix ? `${prefix}.${key}` : key;\n      const type = Array.isArray(value) ? 'array' : typeof value;\n      \n      fields.push({\n        path,\n        label: key,\n        type,\n        value,\n        isArray: Array.isArray(value),\n        arrayLength: Array.isArray(value) ? value.length : undefined,\n      });\n      \n      if (typeof value === 'object' && value !== null) {\n        const nestedFields = extractFields(value, path, maxDepth - 1);\n        fields.push(...nestedFields);\n      }\n    }\n  }\n  \n  return fields;\n}\n\nexport function getValueByPath(obj: unknown, path: string): unknown {\n  if (!path || !obj) return undefined;\n  \n  const keys = path.replace(/\\[(\\d+)\\]/g, '.$1').split('.');\n  let current: unknown = obj;\n  \n  for (const key of keys) {\n    if (current === null || current === undefined) return undefined;\n    if (typeof current !== 'object') return undefined;\n    current = (current as Record<string, unknown>)[key];\n  }\n  \n  return current;\n}\n\nexport function formatValue(value: unknown): string {\n  if (value === null || value === undefined) return '-';\n  if (typeof value === 'number') {\n    if (Math.abs(value) >= 1000000) {\n      return (value / 1000000).toFixed(2) + 'M';\n    }\n    if (Math.abs(value) >= 1000) {\n      return (value / 1000).toFixed(2) + 'K';\n    }\n    if (Number.isInteger(value)) return value.toString();\n    return value.toFixed(2);\n  }\n  if (typeof value === 'boolean') return value ? 'Yes' : 'No';\n  if (typeof value === 'object') return JSON.stringify(value);\n  return String(value);\n}\n\nexport async function testApiConnection(url: string): Promise<{ success: boolean; data?: unknown; error?: string; fieldCount?: number }> {\n  try {\n    // Check if rate limited\n    const rateLimitCheck = apiCache.isRateLimited(url);\n    if (rateLimitCheck.limited) {\n      return {\n        success: false,\n        error: `Rate limited. Retry in ${rateLimitCheck.retryAfter} seconds`,\n      };\n    }\n\n    const response = await fetch(url);\n    \n    // Handle rate limiting\n    if (response.status === 429) {\n      const retryAfter = parseInt(response.headers.get('Retry-After') || '60', 10);\n      apiCache.setRateLimited(url, retryAfter);\n      return {\n        success: false,\n        error: `Rate limit exceeded. Retry in ${retryAfter} seconds`,\n      };\n    }\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    const data = await response.json();\n    return { \n      success: true, \n      data,\n      fieldCount: Object.keys(data).length \n    };\n  } catch (error) {\n    return { \n      success: false, \n      error: error instanceof Error ? error.message : 'Failed to connect to API' \n    };\n  }\n}\n\nexport async function fetchWithCache<T = unknown>(\n  url: string, \n  options: FetchOptions = {}\n): Promise<FetchResult<T>> {\n  const { \n    useCache = true, \n    cacheTTL = 30000, \n    retryOnRateLimit = false,\n    maxRetries = 3 \n  } = options;\n\n  // Check rate limit first\n  const rateLimitCheck = apiCache.isRateLimited(url);\n  if (rateLimitCheck.limited) {\n    return {\n      success: false,\n      error: `Rate limited. Retry in ${rateLimitCheck.retryAfter} seconds`,\n      rateLimited: true,\n      retryAfter: rateLimitCheck.retryAfter,\n    };\n  }\n\n  // Check cache\n  if (useCache) {\n    const cached = apiCache.get<T>(url);\n    if (cached !== null) {\n      return {\n        success: true,\n        data: cached,\n        fromCache: true,\n      };\n    }\n  }\n\n  // Fetch with retry logic\n  let lastError: string = 'Unknown error';\n  let retries = 0;\n\n  while (retries < maxRetries) {\n    try {\n      const response = await fetch(url);\n\n      // Handle rate limiting\n      if (response.status === 429) {\n        const retryAfter = parseInt(response.headers.get('Retry-After') || '60', 10);\n        apiCache.setRateLimited(url, retryAfter);\n        \n        if (retryOnRateLimit && retries < maxRetries - 1) {\n          // Wait and retry\n          await new Promise(resolve => setTimeout(resolve, Math.min(retryAfter * 1000, 5000)));\n          retries++;\n          continue;\n        }\n\n        return {\n          success: false,\n          error: `Rate limit exceeded. Retry in ${retryAfter} seconds`,\n          rateLimited: true,\n          retryAfter,\n        };\n      }\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n\n      const data = await response.json() as T;\n\n      // Cache the result\n      if (useCache) {\n        apiCache.set(url, data, cacheTTL);\n      }\n\n      return {\n        success: true,\n        data,\n        fromCache: false,\n      };\n    } catch (error) {\n      lastError = error instanceof Error ? error.message : 'Failed to fetch data';\n      retries++;\n      \n      if (retries < maxRetries) {\n        // Exponential backoff\n        await new Promise(resolve => setTimeout(resolve, Math.pow(2, retries) * 1000));\n      }\n    }\n  }\n\n  return {\n    success: false,\n    error: lastError,\n  };\n}\n\nexport function clearCacheForUrl(url: string): void {\n  apiCache.clear();\n}\n\nexport function getCacheStats() {\n  return apiCache.getStats();\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/lib/websocket.ts"],"sourcesContent":["export type WebSocketStatus = 'connecting' | 'connected' | 'disconnected' | 'error';\r\n\r\nexport interface WebSocketConfig {\r\n  url: string;\r\n  reconnectInterval?: number;\r\n  maxReconnectAttempts?: number;\r\n  onMessage?: (data: unknown) => void;\r\n  onStatusChange?: (status: WebSocketStatus) => void;\r\n  onError?: (error: Event | Error) => void;\r\n}\r\n\r\nexport class WebSocketManager {\r\n  private ws: WebSocket | null = null;\r\n  private config: WebSocketConfig;\r\n  private reconnectAttempts: number = 0;\r\n  private reconnectTimer: NodeJS.Timeout | null = null;\r\n  private status: WebSocketStatus = 'disconnected';\r\n  private shouldReconnect: boolean = true;\r\n\r\n  constructor(config: WebSocketConfig) {\r\n    this.config = {\r\n      reconnectInterval: 5000,\r\n      maxReconnectAttempts: 5,\r\n      ...config,\r\n    };\r\n  }\r\n\r\n  connect(): void {\r\n    if (this.ws?.readyState === WebSocket.OPEN) {\r\n      return;\r\n    }\r\n\r\n    this.updateStatus('connecting');\r\n\r\n    try {\r\n      this.ws = new WebSocket(this.config.url);\r\n\r\n      this.ws.onopen = () => {\r\n        this.reconnectAttempts = 0;\r\n        this.updateStatus('connected');\r\n      };\r\n\r\n      this.ws.onmessage = (event) => {\r\n        try {\r\n          const data = JSON.parse(event.data);\r\n          this.config.onMessage?.(data);\r\n        } catch (error) {\r\n          this.config.onMessage?.(event.data);\r\n        }\r\n      };\r\n\r\n      this.ws.onerror = (event) => {\r\n        this.updateStatus('error');\r\n        this.config.onError?.(event);\r\n      };\r\n\r\n      this.ws.onclose = () => {\r\n        this.updateStatus('disconnected');\r\n        \r\n        if (this.shouldReconnect) {\r\n          this.scheduleReconnect();\r\n        }\r\n      };\r\n    } catch (error) {\r\n      this.updateStatus('error');\r\n      this.config.onError?.(error as Error);\r\n      \r\n      if (this.shouldReconnect) {\r\n        this.scheduleReconnect();\r\n      }\r\n    }\r\n  }\r\n\r\n  private scheduleReconnect(): void {\r\n    if (\r\n      this.config.maxReconnectAttempts &&\r\n      this.reconnectAttempts >= this.config.maxReconnectAttempts\r\n    ) {\r\n      this.shouldReconnect = false;\r\n      return;\r\n    }\r\n\r\n    this.reconnectAttempts++;\r\n    const delay = this.config.reconnectInterval! * Math.min(this.reconnectAttempts, 3);\r\n\r\n    this.reconnectTimer = setTimeout(() => {\r\n      this.connect();\r\n    }, delay);\r\n  }\r\n\r\n  send(data: unknown): boolean {\r\n    if (this.ws?.readyState === WebSocket.OPEN) {\r\n      try {\r\n        this.ws.send(typeof data === 'string' ? data : JSON.stringify(data));\r\n        return true;\r\n      } catch (error) {\r\n        return false;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  disconnect(): void {\r\n    this.shouldReconnect = false;\r\n    \r\n    if (this.reconnectTimer) {\r\n      clearTimeout(this.reconnectTimer);\r\n      this.reconnectTimer = null;\r\n    }\r\n\r\n    if (this.ws) {\r\n      this.ws.close();\r\n      this.ws = null;\r\n    }\r\n\r\n    this.updateStatus('disconnected');\r\n  }\r\n\r\n  getStatus(): WebSocketStatus {\r\n    return this.status;\r\n  }\r\n\r\n  private updateStatus(status: WebSocketStatus): void {\r\n    this.status = status;\r\n    this.config.onStatusChange?.(status);\r\n  }\r\n\r\n  isConnected(): boolean {\r\n    return this.ws?.readyState === WebSocket.OPEN;\r\n  }\r\n}\r\n\r\n// WebSocket connection pool for managing multiple connections\r\nexport class WebSocketPool {\r\n  private connections: Map<string, WebSocketManager> = new Map();\r\n\r\n  connect(id: string, config: WebSocketConfig): WebSocketManager {\r\n    // Disconnect existing connection if any\r\n    this.disconnect(id);\r\n\r\n    const manager = new WebSocketManager(config);\r\n    this.connections.set(id, manager);\r\n    manager.connect();\r\n\r\n    return manager;\r\n  }\r\n\r\n  disconnect(id: string): void {\r\n    const manager = this.connections.get(id);\r\n    if (manager) {\r\n      manager.disconnect();\r\n      this.connections.delete(id);\r\n    }\r\n  }\r\n\r\n  get(id: string): WebSocketManager | undefined {\r\n    return this.connections.get(id);\r\n  }\r\n\r\n  disconnectAll(): void {\r\n    for (const [id, manager] of this.connections) {\r\n      manager.disconnect();\r\n    }\r\n    this.connections.clear();\r\n  }\r\n\r\n  getAll(): Map<string, WebSocketManager> {\r\n    return this.connections;\r\n  }\r\n}\r\n\r\n// Singleton pool instance\r\nexport const wsPool = new WebSocketPool();\r\n\r\nexport function isWebSocketURL(url: string): boolean {\r\n  try {\r\n    const urlObj = new URL(url);\r\n    return urlObj.protocol === 'ws:' || urlObj.protocol === 'wss:';\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function toWebSocketURL(url: string): string | null {\r\n  try {\r\n    const urlObj = new URL(url);\r\n    if (urlObj.protocol === 'http:') {\r\n      urlObj.protocol = 'ws:';\r\n      return urlObj.toString();\r\n    }\r\n    if (urlObj.protocol === 'https:') {\r\n      urlObj.protocol = 'wss:';\r\n      return urlObj.toString();\r\n    }\r\n    return null;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 656, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBAAO,6LAAC;QAAK,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAC/F;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 723, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 758, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)} {...props} />;\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 998, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Table = React.forwardRef<HTMLTableElement, React.HTMLAttributes<HTMLTableElement>>(\n  ({ className, ...props }, ref) => (\n    <div className=\"relative w-full overflow-auto\">\n      <table ref={ref} className={cn(\"w-full caption-bottom text-sm\", className)} {...props} />\n    </div>\n  ),\n);\nTable.displayName = \"Table\";\n\nconst TableHeader = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />,\n);\nTableHeader.displayName = \"TableHeader\";\n\nconst TableBody = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => (\n    <tbody ref={ref} className={cn(\"[&_tr:last-child]:border-0\", className)} {...props} />\n  ),\n);\nTableBody.displayName = \"TableBody\";\n\nconst TableFooter = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => (\n    <tfoot ref={ref} className={cn(\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\", className)} {...props} />\n  ),\n);\nTableFooter.displayName = \"TableFooter\";\n\nconst TableRow = React.forwardRef<HTMLTableRowElement, React.HTMLAttributes<HTMLTableRowElement>>(\n  ({ className, ...props }, ref) => (\n    <tr\n      ref={ref}\n      className={cn(\"border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50\", className)}\n      {...props}\n    />\n  ),\n);\nTableRow.displayName = \"TableRow\";\n\nconst TableHead = React.forwardRef<HTMLTableCellElement, React.ThHTMLAttributes<HTMLTableCellElement>>(\n  ({ className, ...props }, ref) => (\n    <th\n      ref={ref}\n      className={cn(\n        \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nTableHead.displayName = \"TableHead\";\n\nconst TableCell = React.forwardRef<HTMLTableCellElement, React.TdHTMLAttributes<HTMLTableCellElement>>(\n  ({ className, ...props }, ref) => (\n    <td ref={ref} className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)} {...props} />\n  ),\n);\nTableCell.displayName = \"TableCell\";\n\nconst TableCaption = React.forwardRef<HTMLTableCaptionElement, React.HTMLAttributes<HTMLTableCaptionElement>>(\n  ({ className, ...props }, ref) => (\n    <caption ref={ref} className={cn(\"mt-4 text-sm text-muted-foreground\", className)} {...props} />\n  ),\n);\nTableCaption.displayName = \"TableCaption\";\n\nexport { Table, TableHeader, TableBody, TableFooter, TableHead, TableRow, TableCell, TableCaption };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAM,KAAK;YAAK,WAAW,IAAA,4HAAE,EAAC,iCAAiC;YAAa,GAAG,KAAK;;;;;;;;;;;;AAI3F,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,2KAAgB,OAClC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAAQ,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAE3G,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,2KAAgB,OAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK;;;;;;;AAGtF,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAClC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,2DAA2D;QAAa,GAAG,KAAK;;;;;;;AAGnH,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,2KAAgB,OAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,+EAA+E;QAC5F,GAAG,KAAK;;;;;;;AAIf,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,2KAAgB,QAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,oGACA;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,2KAAgB,QAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAG,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,kDAAkD;QAAa,GAAG,KAAK;;;;;;;AAGvG,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,2KAAgB,QACnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAQ,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,sCAAsC;QAAa,GAAG,KAAK;;;;;;;AAGhG,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 1142, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/dashboard/WidgetCard.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef, useState, useCallback } from 'react';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { GripVertical, RefreshCw, Trash2, Settings, AlertCircle, Loader2, Pencil, Search, ChevronLeft, ChevronRight, ArrowUpDown, ArrowUp, ArrowDown } from 'lucide-react';\nimport { Widget, useDashboardStore, ChartType, ChartInterval } from '@/store/dashboardStore';\nimport { getValueByPath, formatValue, fetchWithCache } from '@/lib/apiUtils';\nimport { wsPool, isWebSocketURL } from '@/lib/websocket';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  CartesianGrid,\n  BarChart,\n  Bar,\n  ComposedChart,\n  ReferenceLine,\n} from 'recharts';\n\ninterface WidgetCardProps {\n  widget: Widget;\n  onEdit: (widget: Widget) => void;\n}\n\ninterface CandlestickData {\n  name: string;\n  open: number;\n  high: number;\n  low: number;\n  close: number;\n}\n\ninterface CandlestickProps {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  open: number;\n  close: number;\n  high: number;\n  low: number;\n}\n\nconst Candlestick = (props: CandlestickProps) => {\n  const { x, y, width, height, open, close, high, low } = props;\n  const isGreen = close >= open;\n  const color = isGreen ? 'hsl(var(--success))' : 'hsl(var(--destructive))';\n  const bodyY = Math.min(open, close);\n  const bodyHeight = Math.abs(close - open);\n  \n  return (\n    <g>\n      <line\n        x1={x + width / 2}\n        y1={high}\n        x2={x + width / 2}\n        y2={low}\n        stroke={color}\n        strokeWidth={1}\n      />\n      <rect\n        x={x}\n        y={bodyY}\n        width={width}\n        height={Math.max(bodyHeight, 1)}\n        fill={isGreen ? color : color}\n        stroke={color}\n      />\n    </g>\n  );\n};\n\nexport function WidgetCard({ widget, onEdit }: WidgetCardProps) {\n  const { removeWidget, setWidgetData, setWidgetLoading, setWidgetError, updateWidget, setWebSocketStatus } = useDashboardStore();\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n  const wsManagerRef = useRef<ReturnType<typeof wsPool.get> | null>(null);\n  \n  const [tableSearch, setTableSearch] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [sortColumn, setSortColumn] = useState<string | null>(null);\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\n  const itemsPerPage = 5;\n  \n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: widget.id });\n  \n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n  \n  const fetchData = useCallback(async (skipCache: boolean = false) => {\n    setWidgetLoading(widget.id, true);\n    \n    const result = await fetchWithCache(widget.apiUrl, {\n      useCache: !skipCache,\n      cacheTTL: widget.refreshInterval * 1000,\n      retryOnRateLimit: false,\n      maxRetries: 2,\n    });\n\n    if (result.success && result.data) {\n      setWidgetData(widget.id, result.data);\n    } else if (result.rateLimited) {\n      setWidgetError(widget.id, `Rate limited. Retry in ${result.retryAfter}s`);\n    } else {\n      setWidgetError(widget.id, result.error || 'Failed to fetch data');\n    }\n    \n    setWidgetLoading(widget.id, false);\n  }, [widget.id, widget.apiUrl, widget.refreshInterval, setWidgetLoading, setWidgetData, setWidgetError]);\n\n  const setupWebSocket = useCallback(() => {\n    if (widget.connectionType !== 'websocket' || !isWebSocketURL(widget.apiUrl)) return;\n\n    setWidgetLoading(widget.id, true);\n    setWebSocketStatus(widget.id, 'connecting');\n\n    wsManagerRef.current = wsPool.connect(widget.id, {\n      url: widget.apiUrl,\n      onMessage: (data) => {\n        setWidgetData(widget.id, data);\n        setWidgetLoading(widget.id, false);\n      },\n      onStatusChange: (status) => {\n        setWebSocketStatus(widget.id, status);\n        if (status === 'connected') {\n          setWidgetError(widget.id, null);\n          setWidgetLoading(widget.id, false);\n        } else if (status === 'error') {\n          setWidgetError(widget.id, 'WebSocket connection failed');\n          setWidgetLoading(widget.id, false);\n        }\n      },\n      onError: (error) => {\n        console.error('[Widget] WebSocket error:', error);\n        setWidgetError(widget.id, 'WebSocket error occurred');\n        setWidgetLoading(widget.id, false);\n      },\n    });\n  }, [widget.id, widget.apiUrl, widget.connectionType, setWidgetLoading, setWebSocketStatus, setWidgetData, setWidgetError]);\n\n  const cleanup = useCallback(() => {\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n    if (wsManagerRef.current) {\n      wsPool.disconnect(widget.id);\n      wsManagerRef.current = null;\n    }\n  }, [widget.id]);\n  \n  useEffect(() => {\n    cleanup();\n\n    if (widget.connectionType === 'websocket') {\n      setupWebSocket();\n    } else {\n      fetchData();\n      intervalRef.current = setInterval(fetchData, widget.refreshInterval * 1000);\n    }\n\n    return () => cleanup();\n  }, [widget.apiUrl, widget.refreshInterval, widget.connectionType, setupWebSocket, fetchData, cleanup]);\n\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [tableSearch]);\n\n  const handleChartTypeChange = (chartType: ChartType) => {\n    updateWidget(widget.id, { chartType });\n  };\n\n  const handleChartIntervalChange = (chartInterval: ChartInterval) => {\n    updateWidget(widget.id, { chartInterval });\n  };\n  \n  const renderCardView = () => {\n    if (!widget.data) return null;\n    \n    return (\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n        {widget.selectedFields.map((field) => {\n          const value = getValueByPath(widget.data, field.path);\n          return (\n            <div key={field.path} className=\"p-3 bg-secondary/30 rounded-lg\">\n              <p className=\"text-xs text-muted-foreground capitalize mb-1\">\n                {field.label.replace(/[._]/g, ' ')}\n              </p>\n              <p className=\"text-sm font-mono font-medium truncate\">\n                {formatValue(value)}\n              </p>\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n  \n  const renderTableView = () => {\n    if (!widget.data) return null;\n    \n    // Find the first array field in selected fields\n    const arrayField = widget.selectedFields.find((f) => f.type === 'array');\n    let tableData: Record<string, unknown>[] = [];\n    \n    if (arrayField) {\n      const rawData = getValueByPath(widget.data, arrayField.path);\n      if (Array.isArray(rawData)) {\n        tableData = rawData;\n      }\n    } else {\n      // Create single row from selected fields\n      const row: Record<string, unknown> = {};\n      widget.selectedFields.forEach((field) => {\n        row[field.label] = getValueByPath(widget.data, field.path);\n      });\n      tableData = [row];\n    }\n    \n    if (tableData.length === 0) return <p className=\"text-muted-foreground text-sm\">No data available</p>;\n    \n    const columns = Object.keys(tableData[0] || {}).slice(0, 5);\n    \n    const filteredData = tableSearch\n      ? tableData.filter((row) =>\n          columns.some((col) =>\n            String(row[col]).toLowerCase().includes(tableSearch.toLowerCase())\n          )\n        )\n      : tableData;\n    \n    // Sort data\n    const sortedData = sortColumn\n      ? [...filteredData].sort((a, b) => {\n          const aVal = a[sortColumn];\n          const bVal = b[sortColumn];\n          \n          // Handle numbers\n          const aNum = Number(aVal);\n          const bNum = Number(bVal);\n          if (!isNaN(aNum) && !isNaN(bNum)) {\n            return sortDirection === 'asc' ? aNum - bNum : bNum - aNum;\n          }\n          \n          // Handle strings\n          const aStr = String(aVal).toLowerCase();\n          const bStr = String(bVal).toLowerCase();\n          if (sortDirection === 'asc') {\n            return aStr < bStr ? -1 : aStr > bStr ? 1 : 0;\n          } else {\n            return bStr < aStr ? -1 : bStr > aStr ? 1 : 0;\n          }\n        })\n      : filteredData;\n    \n    const handleSort = (column: string) => {\n      if (sortColumn === column) {\n        setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n      } else {\n        setSortColumn(column);\n        setSortDirection('asc');\n      }\n    };\n    \n    const totalPages = Math.ceil(sortedData.length / itemsPerPage);\n    const startIndex = (currentPage - 1) * itemsPerPage;\n    const paginatedData = sortedData.slice(startIndex, startIndex + itemsPerPage);\n    \n    return (\n      <div className=\"space-y-3\">\n        {/* Search */}\n        <div className=\"relative\">\n          <Search className=\"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search...\"\n            value={tableSearch}\n            onChange={(e) => setTableSearch(e.target.value)}\n            className=\"h-8 pl-7 text-xs bg-secondary/30 border-border/50\"\n          />\n        </div>\n        \n        {/* Table */}\n        <div className=\"overflow-x-auto scrollbar-thin\">\n          <Table>\n            <TableHeader>\n              <TableRow className=\"border-border/50\">\n                {columns.map((col) => (\n                  <TableHead \n                    key={col} \n                    className=\"text-xs capitalize cursor-pointer hover:bg-secondary/30 select-none\"\n                    onClick={() => handleSort(col)}\n                  >\n                    <div className=\"flex items-center gap-1\">\n                      {col.replace(/[._]/g, ' ')}\n                      {sortColumn === col ? (\n                        sortDirection === 'asc' ? (\n                          <ArrowUp className=\"w-3 h-3\" />\n                        ) : (\n                          <ArrowDown className=\"w-3 h-3\" />\n                        )\n                      ) : (\n                        <ArrowUpDown className=\"w-3 h-3 opacity-30\" />\n                      )}\n                    </div>\n                  </TableHead>\n                ))}\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {paginatedData.map((row, i) => (\n                <TableRow key={i} className=\"border-border/30\">\n                  {columns.map((col) => (\n                    <TableCell key={col} className=\"text-sm font-mono py-2\">\n                      {formatValue(row[col])}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </div>\n        \n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n            <span>\n              {startIndex + 1}-{Math.min(startIndex + itemsPerPage, sortedData.length)} of {sortedData.length}\n            </span>\n            <div className=\"flex items-center gap-1\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-6 w-6\"\n                onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n                disabled={currentPage === 1}\n              >\n                <ChevronLeft className=\"w-3 h-3\" />\n              </Button>\n              <span>{currentPage} / {totalPages}</span>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-6 w-6\"\n                onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}\n                disabled={currentPage === totalPages}\n              >\n                <ChevronRight className=\"w-3 h-3\" />\n              </Button>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n  \n  const renderChartView = () => {\n    if (!widget.data) return null;\n    \n    const chartType = widget.chartType || 'line';\n    const chartInterval = widget.chartInterval || 'daily';\n    \n    const numericFields = widget.selectedFields.filter(\n      (f) => f.type === 'number' || f.type === 'string'\n    );\n    \n    if (numericFields.length === 0) {\n      return <p className=\"text-muted-foreground text-sm\">No numeric data for chart</p>;\n    }\n    \n    const chartData = numericFields.slice(0, 6).map((field, index) => {\n      const value = getValueByPath(widget.data, field.path);\n      const numValue = typeof value === 'number' ? value : parseFloat(String(value)) || 0;\n      \n      const variance = numValue * 0.02;\n      return {\n        name: field.label.slice(0, 10),\n        value: numValue,\n        open: numValue - variance * (Math.random() - 0.5),\n        high: numValue + variance * Math.random(),\n        low: numValue - variance * Math.random(),\n        close: numValue + variance * (Math.random() - 0.5),\n      };\n    });\n\n    const intervals: { value: ChartInterval; label: string }[] = [\n      { value: 'daily', label: 'D' },\n      { value: 'weekly', label: 'W' },\n      { value: 'monthly', label: 'M' },\n    ];\n    \n    return (\n      <div className=\"space-y-2\">\n        {/* Chart Controls */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex gap-1\">\n            <Button\n              variant={chartType === 'line' ? 'default' : 'ghost'}\n              size=\"sm\"\n              className=\"h-6 px-2 text-xs\"\n              onClick={() => handleChartTypeChange('line')}\n            >\n              Line\n            </Button>\n            <Button\n              variant={chartType === 'candlestick' ? 'default' : 'ghost'}\n              size=\"sm\"\n              className=\"h-6 px-2 text-xs\"\n              onClick={() => handleChartTypeChange('candlestick')}\n            >\n              Candle\n            </Button>\n          </div>\n          <div className=\"flex gap-1\">\n            {intervals.map(({ value, label }) => (\n              <Button\n                key={value}\n                variant={chartInterval === value ? 'default' : 'ghost'}\n                size=\"sm\"\n                className=\"h-6 w-6 p-0 text-xs\"\n                onClick={() => handleChartIntervalChange(value)}\n              >\n                {label}\n              </Button>\n            ))}\n          </div>\n        </div>\n\n        {/* Chart */}\n        <div className=\"h-44 w-full\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            {chartType === 'candlestick' ? (\n              <ComposedChart data={chartData} margin={{ top: 5, right: 20, left: 0, bottom: 5 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\n                <XAxis \n                  dataKey=\"name\" \n                  tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 10 }}\n                  axisLine={{ stroke: 'hsl(var(--border))' }}\n                />\n                <YAxis \n                  tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 10 }}\n                  axisLine={{ stroke: 'hsl(var(--border))' }}\n                  domain={['auto', 'auto']}\n                />\n                <Tooltip \n                  contentStyle={{ \n                    background: 'hsl(var(--popover))', \n                    border: '1px solid hsl(var(--border))',\n                    borderRadius: '8px',\n                  }}\n                  labelStyle={{ color: 'hsl(var(--foreground))' }}\n                  formatter={(value: number, name: string) => [value.toFixed(4), name]}\n                />\n                <Bar\n                  dataKey=\"close\"\n                  fill=\"hsl(var(--primary))\"\n                  shape={(props: { x: number; y: number; width: number; height: number; payload: CandlestickData; background?: { height: number } }) => {\n                    const { x, y, width, height, payload } = props;\n                    const yScale = props.background?.height / (Math.max(...chartData.map(d => d.high)) - Math.min(...chartData.map(d => d.low))) || 1;\n                    return (\n                      <Candlestick\n                        x={x}\n                        y={y}\n                        width={width}\n                        height={height}\n                        open={payload.open}\n                        close={payload.close}\n                        high={payload.high}\n                        low={payload.low}\n                      />\n                    );\n                  }}\n                />\n              </ComposedChart>\n            ) : (\n              <LineChart data={chartData} margin={{ top: 5, right: 20, left: 0, bottom: 5 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\n                <XAxis \n                  dataKey=\"name\" \n                  tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 10 }}\n                  axisLine={{ stroke: 'hsl(var(--border))' }}\n                />\n                <YAxis \n                  tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 10 }}\n                  axisLine={{ stroke: 'hsl(var(--border))' }}\n                />\n                <Tooltip \n                  contentStyle={{ \n                    background: 'hsl(var(--popover))', \n                    border: '1px solid hsl(var(--border))',\n                    borderRadius: '8px',\n                  }}\n                  labelStyle={{ color: 'hsl(var(--foreground))' }}\n                />\n                <Line \n                  type=\"monotone\" \n                  dataKey=\"value\" \n                  stroke=\"hsl(var(--primary))\" \n                  strokeWidth={2}\n                  dot={{ fill: 'hsl(var(--primary))', strokeWidth: 0 }}\n                  activeDot={{ r: 6, fill: 'hsl(var(--primary))' }}\n                />\n              </LineChart>\n            )}\n          </ResponsiveContainer>\n        </div>\n      </div>\n    );\n  };\n  \n  const renderContent = () => {\n    if (widget.isLoading && !widget.data) {\n      return (\n        <div className=\"flex items-center justify-center py-12\">\n          <Loader2 className=\"w-6 h-6 animate-spin text-primary\" />\n        </div>\n      );\n    }\n    \n    if (widget.error) {\n      const isRateLimited = widget.error.includes('Rate limited');\n      const retryMatch = widget.error.match(/Retry in (\\d+)s/);\n      const retrySeconds = retryMatch ? parseInt(retryMatch[1]) : null;\n      \n      return (\n        <div className=\"flex flex-col items-center justify-center py-8\">\n          <div className={cn(\n            \"p-3 rounded-full mb-3\",\n            isRateLimited ? \"bg-orange-500/10\" : \"bg-destructive/10\"\n          )}>\n            <AlertCircle className={cn(\n              \"w-8 h-8\",\n              isRateLimited ? \"text-orange-500\" : \"text-destructive\"\n            )} />\n          </div>\n          <p className=\"text-sm font-medium mb-1\">\n            {isRateLimited ? 'Rate Limited' : 'Failed to Load'}\n          </p>\n          <p className=\"text-xs text-muted-foreground text-center max-w-[240px] mb-3\">\n            {widget.error}\n          </p>\n          <div className=\"flex gap-2\">\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              onClick={() => fetchData(true)} \n              disabled={widget.isLoading}\n            >\n              {widget.isLoading ? (\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n              ) : (\n                <RefreshCw className=\"w-4 h-4 mr-2\" />\n              )}\n              Retry Now\n            </Button>\n            {retrySeconds && retrySeconds > 5 && (\n              <p className=\"text-xs text-muted-foreground self-center\">\n                or wait {retrySeconds}s\n              </p>\n            )}\n          </div>\n        </div>\n      );\n    }\n    \n    switch (widget.displayMode) {\n      case 'table':\n        return renderTableView();\n      case 'chart':\n        return renderChartView();\n      default:\n        return renderCardView();\n    }\n  };\n  \n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className={cn(\n        \"glass-card p-3 sm:p-4 transition-all duration-200 animate-fade-in\",\n        isDragging && \"widget-dragging opacity-90\"\n      )}\n    >\n      <div className=\"flex items-center justify-between mb-3 sm:mb-4 gap-2\">\n        <div className=\"flex items-center gap-1.5 sm:gap-2 min-w-0 flex-1\">\n          <button\n            {...attributes}\n            {...listeners}\n            className=\"cursor-grab active:cursor-grabbing p-0.5 sm:p-1 rounded hover:bg-secondary/50 text-muted-foreground shrink-0 touch-none\"\n          >\n            <GripVertical className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />\n          </button>\n          <div className=\"min-w-0 flex-1\">\n            <h3 className=\"font-semibold text-xs sm:text-sm flex items-center gap-1.5 sm:gap-2 truncate\">\n              <span className=\"truncate\">{widget.name}</span>\n              {widget.connectionType === 'websocket' && widget.websocketStatus && (\n                <span className={cn(\n                  \"text-[10px] sm:text-xs px-1 sm:px-1.5 py-0.5 rounded font-normal flex items-center gap-0.5 sm:gap-1 shrink-0\",\n                  widget.websocketStatus === 'connected' && \"bg-emerald-500/10 text-emerald-500\",\n                  widget.websocketStatus === 'connecting' && \"bg-blue-500/10 text-blue-500\",\n                  widget.websocketStatus === 'disconnected' && \"bg-orange-500/10 text-orange-500\",\n                  widget.websocketStatus === 'error' && \"bg-destructive/10 text-destructive\"\n                )}>\n                  <span className={cn(\n                    \"w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full animate-pulse\",\n                    widget.websocketStatus === 'connected' && \"bg-emerald-500\",\n                    widget.websocketStatus === 'connecting' && \"bg-blue-500\",\n                    widget.websocketStatus === 'disconnected' && \"bg-orange-500\",\n                    widget.websocketStatus === 'error' && \"bg-destructive\"\n                  )} />\n                  <span className=\"hidden xs:inline\">\n                    {widget.websocketStatus === 'connected' && 'Live'}\n                    {widget.websocketStatus === 'connecting' && 'Connecting...'}\n                    {widget.websocketStatus === 'disconnected' && 'Disconnected'}\n                    {widget.websocketStatus === 'error' && 'Error'}\n                  </span>\n                </span>\n              )}\n            </h3>\n            {widget.lastUpdated && (\n              <p className=\"text-[10px] sm:text-xs text-muted-foreground truncate\">\n                {new Date(widget.lastUpdated).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n              </p>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-0.5 sm:gap-1 shrink-0\">\n          {widget.isLoading && (\n            <Loader2 className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 animate-spin text-muted-foreground\" />\n          )}\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-7 w-7 sm:h-8 sm:w-8\"\n            onClick={() => fetchData(true)}\n          >\n            <RefreshCw className=\"w-3 h-3 sm:w-4 sm:h-4\" />\n          </Button>\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7 sm:h-8 sm:w-8\">\n                <Settings className=\"w-3 h-3 sm:w-4 sm:h-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"glass-card\">\n              <DropdownMenuItem onClick={() => onEdit(widget)}>\n                <Pencil className=\"w-4 h-4 mr-2\" />\n                Edit Widget\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem\n                onClick={() => removeWidget(widget.id)}\n                className=\"text-destructive focus:text-destructive\"\n              >\n                <Trash2 className=\"w-4 h-4 mr-2\" />\n                Remove Widget\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n      </div>\n      \n      {renderContent()}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2339, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ui/dialog.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)} {...props} />\n);\nDialogHeader.displayName = \"DialogHeader\";\n\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nDialogFooter.displayName = \"DialogFooter\";\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,sDAAsD;QAAa,GAAG,KAAK;;;;;;MAD1F;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,iEAAiE;QAAa,GAAG,KAAK;;;;;;MADrG;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,qDAAqD;QAClE,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAE7G,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 2497, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\");\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EAAC;AAE1B,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;;AAErF,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 2534, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ui/scroll-area.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root ref={ref} className={cn(\"relative overflow-hidden\", className)} {...props}>\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">{children}</ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n));\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className,\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n));\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\n\nexport { ScrollArea, ScrollBar };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,2BAAa,2KAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,qLAAwB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QAAa,GAAG,KAAK;;0BACjG,6LAAC,yLAA4B;gBAAC,WAAU;0BAAmC;;;;;;0BAC3E,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,qLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,2KAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,oMAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,iDACA,gBAAgB,cAAc,sDAC9B,gBAAgB,gBAAgB,wDAChC;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAAC,WAAU;;;;;;;;;;;MAf7C;AAkBN,UAAU,WAAW,GAAG,oMAAuC,CAAC,WAAW"}},
    {"offset": {"line": 2610, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ui/checkbox.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { Check } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator className={cn(\"flex items-center justify-center text-current\")}>\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAAC,WAAW,IAAA,4HAAE,EAAC;sBACzC,cAAA,6LAAC,gNAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 2660, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/dashboard/AddWidgetModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, Loader2, Check, AlertCircle, Search, LayoutGrid, Table, LineChart, CandlestickChart, Wifi, WifiOff } from 'lucide-react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { useDashboardStore, DisplayMode, WidgetField, ChartType, ChartInterval, ConnectionType } from '@/store/dashboardStore';\nimport { testApiConnection, extractFields, FieldInfo, formatValue } from '@/lib/apiUtils';\nimport { isWebSocketURL } from '@/lib/websocket';\nimport { cn } from '@/lib/utils';\n\ninterface AddWidgetModalProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nexport function AddWidgetModal({ open, onClose }: AddWidgetModalProps) {\n  const [step, setStep] = useState<1 | 2>(1);\n  const [name, setName] = useState('');\n  const [apiUrl, setApiUrl] = useState('');\n  const [connectionType, setConnectionType] = useState<ConnectionType>('http');\n  const [refreshInterval, setRefreshInterval] = useState(30);\n  const [displayMode, setDisplayMode] = useState<DisplayMode>('card');\n  const [chartType, setChartType] = useState<ChartType>('line');\n  const [chartInterval, setChartInterval] = useState<ChartInterval>('daily');\n  const [selectedFields, setSelectedFields] = useState<WidgetField[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showArraysOnly, setShowArraysOnly] = useState(false);\n  \n  const [testing, setTesting] = useState(false);\n  const [testResult, setTestResult] = useState<{ success: boolean; error?: string; fieldCount?: number } | null>(null);\n  const [apiData, setApiData] = useState<unknown>(null);\n  const [availableFields, setAvailableFields] = useState<FieldInfo[]>([]);\n  \n  const addWidget = useDashboardStore((state) => state.addWidget);\n  \n  const resetForm = () => {\n    setStep(1);\n    setName('');\n    setApiUrl('');\n    setConnectionType('http');\n    setRefreshInterval(30);\n    setDisplayMode('card');\n    setChartType('line');\n    setChartInterval('daily');\n    setSelectedFields([]);\n    setSearchQuery('');\n    setShowArraysOnly(false);\n    setTesting(false);\n    setTestResult(null);\n    setApiData(null);\n    setAvailableFields([]);\n  };\n  \n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n  \n  const handleTestApi = async () => {\n    setTesting(true);\n    setTestResult(null);\n    \n    const result = await testApiConnection(apiUrl);\n    setTestResult(result);\n    \n    if (result.success && result.data) {\n      setApiData(result.data);\n      const fields = extractFields(result.data);\n      setAvailableFields(fields);\n    }\n    \n    setTesting(false);\n  };\n  \n  const handleFieldToggle = (field: FieldInfo) => {\n    const exists = selectedFields.find((f) => f.path === field.path);\n    if (exists) {\n      setSelectedFields(selectedFields.filter((f) => f.path !== field.path));\n    } else {\n      setSelectedFields([...selectedFields, {\n        path: field.path,\n        label: field.label,\n        type: field.type,\n      }]);\n    }\n  };\n  \n  const handleSubmit = () => {\n    if (!name || !apiUrl || selectedFields.length === 0) return;\n    \n    addWidget({\n      name,\n      apiUrl,\n      connectionType,\n      refreshInterval,\n      displayMode,\n      chartType,\n      chartInterval,\n      selectedFields,\n    });\n    \n    handleClose();\n  };\n  \n  const filteredFields = availableFields.filter((field) => {\n    const matchesSearch = field.path.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                          field.label.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesArrayFilter = !showArraysOnly || field.isArray;\n    return matchesSearch && matchesArrayFilter;\n  });\n  \n  const displayModes: { mode: DisplayMode; icon: React.ReactNode; label: string }[] = [\n    { mode: 'card', icon: <LayoutGrid className=\"w-4 h-4\" />, label: 'Card' },\n    { mode: 'table', icon: <Table className=\"w-4 h-4\" />, label: 'Table' },\n    { mode: 'chart', icon: <LineChart className=\"w-4 h-4\" />, label: 'Chart' },\n  ];\n\n  const chartTypes: { type: ChartType; icon: React.ReactNode; label: string }[] = [\n    { type: 'line', icon: <LineChart className=\"w-4 h-4\" />, label: 'Line' },\n    { type: 'candlestick', icon: <CandlestickChart className=\"w-4 h-4\" />, label: 'Candlestick' },\n  ];\n\n  const chartIntervals: { interval: ChartInterval; label: string }[] = [\n    { interval: 'daily', label: 'Daily' },\n    { interval: 'weekly', label: 'Weekly' },\n    { interval: 'monthly', label: 'Monthly' },\n  ];\n  \n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className=\"glass-card max-w-2xl max-h-[85vh] p-0 gap-0 border-border/50\">\n        <DialogHeader className=\"p-6 pb-4 border-b border-border/50\">\n          <DialogTitle className=\"text-xl font-semibold\">Add New Widget</DialogTitle>\n        </DialogHeader>\n        \n        <div className=\"p-6 overflow-hidden flex flex-col max-h-[calc(85vh-140px)]\">\n          {step === 1 ? (\n            <div className=\"space-y-5\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"name\">Widget Name</Label>\n                <Input\n                  id=\"name\"\n                  placeholder=\"e.g., Bitcoin Price Tracker\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  className=\"bg-secondary/50 border-border/50\"\n                />\n              </div>\n              \n              <div className=\"space-y-2\">\n                <Label htmlFor=\"apiUrl\">API URL</Label>\n                <div className=\"flex gap-2\">\n                  <Input\n                    id=\"apiUrl\"\n                    placeholder=\"e.g., https://api.coinbase.com/v2/exchange-rates?currency=BTC\"\n                    value={apiUrl}\n                    onChange={(e) => {\n                      const url = e.target.value;\n                      setApiUrl(url);\n                      // Auto-detect connection type\n                      if (isWebSocketURL(url)) {\n                        setConnectionType('websocket');\n                      } else {\n                        setConnectionType('http');\n                      }\n                    }}\n                    className=\"bg-secondary/50 border-border/50 flex-1\"\n                  />\n                  <Button\n                    onClick={handleTestApi}\n                    disabled={!apiUrl || testing}\n                    variant=\"outline\"\n                    className=\"shrink-0\"\n                  >\n                    {testing ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : 'Test'}\n                  </Button>\n                </div>\n                \n                {/* Connection Type Indicator */}\n                <div className=\"flex items-center gap-2 text-xs\">\n                  {connectionType === 'websocket' ? (\n                    <div className=\"flex items-center gap-1.5 text-emerald-500\">\n                      <Wifi className=\"w-3 h-3\" />\n                      <span>WebSocket (Real-time)</span>\n                    </div>\n                  ) : (\n                    <div className=\"flex items-center gap-1.5 text-blue-500\">\n                      <WifiOff className=\"w-3 h-3\" />\n                      <span>HTTP (Polling)</span>\n                    </div>\n                  )}\n                  {connectionType === 'websocket' && (\n                    <span className=\"text-muted-foreground ml-auto\">\n                      Refresh interval will be ignored for WebSocket connections\n                    </span>\n                  )}\n                </div>\n                \n                {testResult && (\n                  <div className={cn(\n                    \"flex items-center gap-2 text-sm p-3 rounded-lg\",\n                    testResult.success \n                      ? \"bg-success/10 text-success\" \n                      : \"bg-destructive/10 text-destructive\"\n                  )}>\n                    {testResult.success ? (\n                      <>\n                        <Check className=\"w-4 h-4\" />\n                        <span>API connection successful! {testResult.fieldCount} top-level fields found.</span>\n                      </>\n                    ) : (\n                      <>\n                        <AlertCircle className=\"w-4 h-4\" />\n                        <span>{testResult.error}</span>\n                      </>\n                    )}\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"space-y-2\">\n                <Label htmlFor=\"refresh\">Refresh Interval (seconds)</Label>\n                <Input\n                  id=\"refresh\"\n                  type=\"number\"\n                  min={5}\n                  max={3600}\n                  value={refreshInterval}\n                  onChange={(e) => setRefreshInterval(parseInt(e.target.value) || 30)}\n                  className=\"bg-secondary/50 border-border/50 w-32\"\n                />\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-4 flex flex-col flex-1 overflow-hidden\">\n              <div className=\"space-y-3\">\n                <Label>Display Mode</Label>\n                <div className=\"flex gap-2\">\n                  {displayModes.map(({ mode, icon, label }) => (\n                    <Button\n                      key={mode}\n                      variant={displayMode === mode ? 'default' : 'outline'}\n                      onClick={() => setDisplayMode(mode)}\n                      className=\"flex-1\"\n                    >\n                      {icon}\n                      <span className=\"ml-2\">{label}</span>\n                    </Button>\n                  ))}\n                </div>\n              </div>\n\n              {displayMode === 'chart' && (\n                <>\n                  <div className=\"space-y-3\">\n                    <Label>Chart Type</Label>\n                    <div className=\"flex gap-2\">\n                      {chartTypes.map(({ type, icon, label }) => (\n                        <Button\n                          key={type}\n                          variant={chartType === type ? 'default' : 'outline'}\n                          onClick={() => setChartType(type)}\n                          className=\"flex-1\"\n                        >\n                          {icon}\n                          <span className=\"ml-2\">{label}</span>\n                        </Button>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    <Label>Time Interval</Label>\n                    <div className=\"flex gap-2\">\n                      {chartIntervals.map(({ interval, label }) => (\n                        <Button\n                          key={interval}\n                          variant={chartInterval === interval ? 'default' : 'outline'}\n                          onClick={() => setChartInterval(interval)}\n                          size=\"sm\"\n                        >\n                          {label}\n                        </Button>\n                      ))}\n                    </div>\n                  </div>\n                </>\n              )}\n              \n              <div className=\"space-y-2\">\n                <Label>Search Fields</Label>\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n                  <Input\n                    placeholder=\"Search for fields...\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    className=\"bg-secondary/50 border-border/50 pl-10\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-2\">\n                <Checkbox\n                  id=\"arraysOnly\"\n                  checked={showArraysOnly}\n                  onCheckedChange={(checked) => setShowArraysOnly(checked === true)}\n                />\n                <Label htmlFor=\"arraysOnly\" className=\"text-sm text-muted-foreground cursor-pointer\">\n                  Show arrays only (for table view)\n                </Label>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4 flex-1 overflow-hidden\">\n                <div className=\"space-y-2 flex flex-col overflow-hidden\">\n                  <Label className=\"text-muted-foreground text-sm\">Available Fields</Label>\n                  <ScrollArea className=\"flex-1 border border-border/50 rounded-lg\">\n                    <div className=\"p-2 space-y-1\">\n                      {filteredFields.map((field) => (\n                        <button\n                          key={field.path}\n                          onClick={() => handleFieldToggle(field)}\n                          className={cn(\n                            \"w-full text-left p-2 rounded-md text-sm transition-colors\",\n                            \"hover:bg-secondary/80\",\n                            selectedFields.find((f) => f.path === field.path) && \"bg-primary/20 border border-primary/30\"\n                          )}\n                        >\n                          <div className=\"flex items-center justify-between gap-2\">\n                            <span className=\"font-mono text-xs truncate\">{field.path}</span>\n                            <span className=\"text-xs text-muted-foreground shrink-0\">{field.type}</span>\n                          </div>\n                          <div className=\"text-xs text-muted-foreground truncate mt-0.5\">\n                            {formatValue(field.value)}\n                          </div>\n                        </button>\n                      ))}\n                    </div>\n                  </ScrollArea>\n                </div>\n                \n                <div className=\"space-y-2 flex flex-col overflow-hidden\">\n                  <Label className=\"text-muted-foreground text-sm\">Selected Fields ({selectedFields.length})</Label>\n                  <ScrollArea className=\"flex-1 border border-border/50 rounded-lg bg-secondary/30\">\n                    <div className=\"p-2 space-y-1\">\n                      {selectedFields.length === 0 ? (\n                        <p className=\"text-sm text-muted-foreground text-center py-8\">\n                          Click fields to select them\n                        </p>\n                      ) : (\n                        selectedFields.map((field) => (\n                          <div\n                            key={field.path}\n                            className=\"flex items-center justify-between p-2 rounded-md bg-primary/10 border border-primary/20\"\n                          >\n                            <span className=\"font-mono text-xs truncate\">{field.path}</span>\n                            <button\n                              onClick={() => setSelectedFields(selectedFields.filter((f) => f.path !== field.path))}\n                              className=\"text-muted-foreground hover:text-foreground\"\n                            >\n                              <X className=\"w-3 h-3\" />\n                            </button>\n                          </div>\n                        ))\n                      )}\n                    </div>\n                  </ScrollArea>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"flex justify-end gap-3 p-6 pt-4 border-t border-border/50\">\n          <Button variant=\"ghost\" onClick={handleClose}>\n            Cancel\n          </Button>\n          \n          {step === 1 ? (\n            <Button\n              onClick={() => setStep(2)}\n              disabled={!name || !apiUrl || !testResult?.success}\n            >\n              Continue\n            </Button>\n          ) : (\n            <>\n              <Button variant=\"outline\" onClick={() => setStep(1)}>\n                Back\n              </Button>\n              <Button\n                onClick={handleSubmit}\n                disabled={selectedFields.length === 0}\n              >\n                Add Widget\n              </Button>\n            </>\n          )}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3560, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/dashboard/EditWidgetModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { X, Loader2, Check, AlertCircle, Search, LayoutGrid, Table, LineChart, CandlestickChart, Wifi, WifiOff } from 'lucide-react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Widget, useDashboardStore, DisplayMode, WidgetField, ChartType, ChartInterval, ConnectionType } from '@/store/dashboardStore';\nimport { testApiConnection, extractFields, FieldInfo, formatValue } from '@/lib/apiUtils';\nimport { isWebSocketURL } from '@/lib/websocket';\nimport { cn } from '@/lib/utils';\n\ninterface EditWidgetModalProps {\n  open: boolean;\n  onClose: () => void;\n  widget: Widget | null;\n}\n\nexport function EditWidgetModal({ open, onClose, widget }: EditWidgetModalProps) {\n  const [name, setName] = useState('');\n  const [apiUrl, setApiUrl] = useState('');\n  const [refreshInterval, setRefreshInterval] = useState(30);\n  const [displayMode, setDisplayMode] = useState<DisplayMode>('card');\n  const [chartType, setChartType] = useState<ChartType>('line');\n  const [chartInterval, setChartInterval] = useState<ChartInterval>('daily');\n  const [selectedFields, setSelectedFields] = useState<WidgetField[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showArraysOnly, setShowArraysOnly] = useState(false);\n  \n  const [testing, setTesting] = useState(false);\n  const [testResult, setTestResult] = useState<{ success: boolean; error?: string; fieldCount?: number } | null>(null);\n  const [availableFields, setAvailableFields] = useState<FieldInfo[]>([]);\n  \n  const updateWidget = useDashboardStore((state) => state.updateWidget);\n  \n  useEffect(() => {\n    if (widget && open) {\n      setName(widget.name);\n      setApiUrl(widget.apiUrl);\n      setRefreshInterval(widget.refreshInterval);\n      setDisplayMode(widget.displayMode);\n      setChartType(widget.chartType || 'line');\n      setChartInterval(widget.chartInterval || 'daily');\n      setSelectedFields(widget.selectedFields);\n      // Auto-test API to get available fields\n      handleTestApi(widget.apiUrl);\n    }\n  }, [widget, open]);\n  \n  const handleClose = () => {\n    setSearchQuery('');\n    setShowArraysOnly(false);\n    setTesting(false);\n    setTestResult(null);\n    setAvailableFields([]);\n    onClose();\n  };\n  \n  const handleTestApi = async (url?: string) => {\n    const testUrl = url || apiUrl;\n    if (!testUrl) return;\n    \n    setTesting(true);\n    setTestResult(null);\n    \n    const result = await testApiConnection(testUrl);\n    setTestResult(result);\n    \n    if (result.success && result.data) {\n      const fields = extractFields(result.data);\n      setAvailableFields(fields);\n    }\n    \n    setTesting(false);\n  };\n  \n  const handleFieldToggle = (field: FieldInfo) => {\n    const exists = selectedFields.find((f) => f.path === field.path);\n    if (exists) {\n      setSelectedFields(selectedFields.filter((f) => f.path !== field.path));\n    } else {\n      setSelectedFields([...selectedFields, {\n        path: field.path,\n        label: field.label,\n        type: field.type,\n      }]);\n    }\n  };\n  \n  const handleSubmit = () => {\n    if (!widget || !name || !apiUrl || selectedFields.length === 0) return;\n    \n    updateWidget(widget.id, {\n      name,\n      apiUrl,\n      refreshInterval,\n      displayMode,\n      chartType,\n      chartInterval,\n      selectedFields,\n    });\n    \n    handleClose();\n  };\n  \n  const filteredFields = availableFields.filter((field) => {\n    const matchesSearch = field.path.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                          field.label.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesArrayFilter = !showArraysOnly || field.isArray;\n    return matchesSearch && matchesArrayFilter;\n  });\n  \n  const displayModes: { mode: DisplayMode; icon: React.ReactNode; label: string }[] = [\n    { mode: 'card', icon: <LayoutGrid className=\"w-4 h-4\" />, label: 'Card' },\n    { mode: 'table', icon: <Table className=\"w-4 h-4\" />, label: 'Table' },\n    { mode: 'chart', icon: <LineChart className=\"w-4 h-4\" />, label: 'Chart' },\n  ];\n\n  const chartTypes: { type: ChartType; icon: React.ReactNode; label: string }[] = [\n    { type: 'line', icon: <LineChart className=\"w-4 h-4\" />, label: 'Line' },\n    { type: 'candlestick', icon: <CandlestickChart className=\"w-4 h-4\" />, label: 'Candlestick' },\n  ];\n\n  const chartIntervals: { interval: ChartInterval; label: string }[] = [\n    { interval: 'daily', label: 'Daily' },\n    { interval: 'weekly', label: 'Weekly' },\n    { interval: 'monthly', label: 'Monthly' },\n  ];\n\n  if (!widget) return null;\n  \n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className=\"glass-card max-w-2xl max-h-[85vh] p-0 gap-0 border-border/50\">\n        <DialogHeader className=\"p-6 pb-4 border-b border-border/50\">\n          <DialogTitle className=\"text-xl font-semibold\">Edit Widget</DialogTitle>\n        </DialogHeader>\n        \n        <ScrollArea className=\"max-h-[calc(85vh-180px)]\">\n          <div className=\"p-6 space-y-5\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-name\">Widget Name</Label>\n              <Input\n                id=\"edit-name\"\n                placeholder=\"e.g., Bitcoin Price Tracker\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                className=\"bg-secondary/50 border-border/50\"\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-apiUrl\">API URL</Label>\n              <div className=\"flex gap-2\">\n                <Input\n                  id=\"edit-apiUrl\"\n                  placeholder=\"e.g., https://api.coinbase.com/v2/exchange-rates?currency=BTC\"\n                  value={apiUrl}\n                  onChange={(e) => setApiUrl(e.target.value)}\n                  className=\"bg-secondary/50 border-border/50 flex-1\"\n                />\n                <Button\n                  onClick={() => handleTestApi()}\n                  disabled={!apiUrl || testing}\n                  variant=\"outline\"\n                  className=\"shrink-0\"\n                >\n                  {testing ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : 'Test'}\n                </Button>\n              </div>\n              \n              {testResult && (\n                <div className={cn(\n                  \"flex items-center gap-2 text-sm p-3 rounded-lg\",\n                  testResult.success \n                    ? \"bg-success/10 text-success\" \n                    : \"bg-destructive/10 text-destructive\"\n                )}>\n                  {testResult.success ? (\n                    <>\n                      <Check className=\"w-4 h-4\" />\n                      <span>API connection successful! {testResult.fieldCount} top-level fields found.</span>\n                    </>\n                  ) : (\n                    <>\n                      <AlertCircle className=\"w-4 h-4\" />\n                      <span>{testResult.error}</span>\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-refresh\">Refresh Interval (seconds)</Label>\n              <Input\n                id=\"edit-refresh\"\n                type=\"number\"\n                min={5}\n                max={3600}\n                value={refreshInterval}\n                onChange={(e) => setRefreshInterval(parseInt(e.target.value) || 30)}\n                className=\"bg-secondary/50 border-border/50 w-32\"\n              />\n            </div>\n\n            <div className=\"space-y-3\">\n              <Label>Display Mode</Label>\n              <div className=\"flex gap-2\">\n                {displayModes.map(({ mode, icon, label }) => (\n                  <Button\n                    key={mode}\n                    variant={displayMode === mode ? 'default' : 'outline'}\n                    onClick={() => setDisplayMode(mode)}\n                    className=\"flex-1\"\n                  >\n                    {icon}\n                    <span className=\"ml-2\">{label}</span>\n                  </Button>\n                ))}\n              </div>\n            </div>\n\n            {displayMode === 'chart' && (\n              <>\n                <div className=\"space-y-3\">\n                  <Label>Chart Type</Label>\n                  <div className=\"flex gap-2\">\n                    {chartTypes.map(({ type, icon, label }) => (\n                      <Button\n                        key={type}\n                        variant={chartType === type ? 'default' : 'outline'}\n                        onClick={() => setChartType(type)}\n                        className=\"flex-1\"\n                      >\n                        {icon}\n                        <span className=\"ml-2\">{label}</span>\n                      </Button>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"space-y-3\">\n                  <Label>Time Interval</Label>\n                  <div className=\"flex gap-2\">\n                    {chartIntervals.map(({ interval, label }) => (\n                      <Button\n                        key={interval}\n                        variant={chartInterval === interval ? 'default' : 'outline'}\n                        onClick={() => setChartInterval(interval)}\n                        size=\"sm\"\n                      >\n                        {label}\n                      </Button>\n                    ))}\n                  </div>\n                </div>\n              </>\n            )}\n            \n            <div className=\"space-y-2\">\n              <Label>Search Fields</Label>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search for fields...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"bg-secondary/50 border-border/50 pl-10\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"flex items-center gap-2\">\n              <Checkbox\n                id=\"edit-arraysOnly\"\n                checked={showArraysOnly}\n                onCheckedChange={(checked) => setShowArraysOnly(checked === true)}\n              />\n              <Label htmlFor=\"edit-arraysOnly\" className=\"text-sm text-muted-foreground cursor-pointer\">\n                Show arrays only (for table view)\n              </Label>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label className=\"text-muted-foreground text-sm\">Available Fields</Label>\n                <ScrollArea className=\"h-48 border border-border/50 rounded-lg\">\n                  <div className=\"p-2 space-y-1\">\n                    {filteredFields.map((field) => (\n                      <button\n                        key={field.path}\n                        onClick={() => handleFieldToggle(field)}\n                        className={cn(\n                          \"w-full text-left p-2 rounded-md text-sm transition-colors\",\n                          \"hover:bg-secondary/80\",\n                          selectedFields.find((f) => f.path === field.path) && \"bg-primary/20 border border-primary/30\"\n                        )}\n                      >\n                        <div className=\"flex items-center justify-between gap-2\">\n                          <span className=\"font-mono text-xs truncate\">{field.path}</span>\n                          <span className=\"text-xs text-muted-foreground shrink-0\">{field.type}</span>\n                        </div>\n                        <div className=\"text-xs text-muted-foreground truncate mt-0.5\">\n                          {formatValue(field.value)}\n                        </div>\n                      </button>\n                    ))}\n                  </div>\n                </ScrollArea>\n              </div>\n              \n              <div className=\"space-y-2\">\n                <Label className=\"text-muted-foreground text-sm\">Selected Fields ({selectedFields.length})</Label>\n                <ScrollArea className=\"h-48 border border-border/50 rounded-lg bg-secondary/30\">\n                  <div className=\"p-2 space-y-1\">\n                    {selectedFields.length === 0 ? (\n                      <p className=\"text-sm text-muted-foreground text-center py-8\">\n                        Click fields to select them\n                      </p>\n                    ) : (\n                      selectedFields.map((field) => (\n                        <div\n                          key={field.path}\n                          className=\"flex items-center justify-between p-2 rounded-md bg-primary/10 border border-primary/20\"\n                        >\n                          <span className=\"font-mono text-xs truncate\">{field.path}</span>\n                          <button\n                            onClick={() => setSelectedFields(selectedFields.filter((f) => f.path !== field.path))}\n                            className=\"text-muted-foreground hover:text-foreground\"\n                          >\n                            <X className=\"w-3 h-3\" />\n                          </button>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </ScrollArea>\n              </div>\n            </div>\n          </div>\n        </ScrollArea>\n        \n        <div className=\"flex justify-end gap-3 p-6 pt-4 border-t border-border/50\">\n          <Button variant=\"ghost\" onClick={handleClose}>\n            Cancel\n          </Button>\n          <Button\n            onClick={handleSubmit}\n            disabled={!name || !apiUrl || selectedFields.length === 0}\n          >\n            Save Changes\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4359, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/data/templates.ts"],"sourcesContent":["import { DisplayMode, WidgetField, ChartType, ChartInterval } from '@/store/dashboardStore';\n\nexport interface WidgetTemplate {\n  name: string;\n  apiUrl: string;\n  refreshInterval: number;\n  displayMode: DisplayMode;\n  chartType: ChartType;\n  chartInterval: ChartInterval;\n  selectedFields: WidgetField[];\n}\n\nexport interface DashboardTemplate {\n  id: string;\n  name: string;\n  description: string;\n  icon: string;\n  color: string;\n  widgets: WidgetTemplate[];\n}\n\nexport const dashboardTemplates: DashboardTemplate[] = [\n  {\n    id: 'crypto',\n    name: 'Crypto Tracker',\n    description: 'Track Bitcoin, Ethereum, and major cryptocurrencies in real-time',\n    icon: 'Bitcoin',\n    color: 'from-orange-500 to-yellow-500',\n    widgets: [\n      {\n        name: 'Bitcoin (BTC)',\n        apiUrl: 'https://api.coinbase.com/v2/exchange-rates?currency=BTC',\n        refreshInterval: 30,\n        displayMode: 'card',\n        chartType: 'line',\n        chartInterval: 'daily',\n        selectedFields: [\n          { path: 'data.currency', label: 'Currency', type: 'string' },\n          { path: 'data.rates.USD', label: 'USD', type: 'string' },\n          { path: 'data.rates.EUR', label: 'EUR', type: 'string' },\n          { path: 'data.rates.GBP', label: 'GBP', type: 'string' },\n        ],\n      },\n      {\n        name: 'Ethereum (ETH)',\n        apiUrl: 'https://api.coinbase.com/v2/exchange-rates?currency=ETH',\n        refreshInterval: 30,\n        displayMode: 'card',\n        chartType: 'line',\n        chartInterval: 'daily',\n        selectedFields: [\n          { path: 'data.currency', label: 'Currency', type: 'string' },\n          { path: 'data.rates.USD', label: 'USD', type: 'string' },\n          { path: 'data.rates.EUR', label: 'EUR', type: 'string' },\n          { path: 'data.rates.BTC', label: 'BTC', type: 'string' },\n        ],\n      },\n      {\n        name: 'Solana (SOL)',\n        apiUrl: 'https://api.coinbase.com/v2/exchange-rates?currency=SOL',\n        refreshInterval: 30,\n        displayMode: 'card',\n        chartType: 'line',\n        chartInterval: 'daily',\n        selectedFields: [\n          { path: 'data.currency', label: 'Currency', type: 'string' },\n          { path: 'data.rates.USD', label: 'USD', type: 'string' },\n          { path: 'data.rates.EUR', label: 'EUR', type: 'string' },\n        ],\n      },\n    ],\n  },\n  {\n    id: 'forex',\n    name: 'Forex Monitor',\n    description: 'Monitor major currency exchange rates and pairs',\n    icon: 'DollarSign',\n    color: 'from-emerald-500 to-teal-500',\n    widgets: [\n      {\n        name: 'USD Exchange Rates',\n        apiUrl: 'https://api.coinbase.com/v2/exchange-rates?currency=USD',\n        refreshInterval: 60,\n        displayMode: 'card',\n        chartType: 'line',\n        chartInterval: 'daily',\n        selectedFields: [\n          { path: 'data.currency', label: 'Base', type: 'string' },\n          { path: 'data.rates.EUR', label: 'EUR', type: 'string' },\n          { path: 'data.rates.GBP', label: 'GBP', type: 'string' },\n          { path: 'data.rates.JPY', label: 'JPY', type: 'string' },\n          { path: 'data.rates.CHF', label: 'CHF', type: 'string' },\n          { path: 'data.rates.CAD', label: 'CAD', type: 'string' },\n        ],\n      },\n      {\n        name: 'EUR Exchange Rates',\n        apiUrl: 'https://api.coinbase.com/v2/exchange-rates?currency=EUR',\n        refreshInterval: 60,\n        displayMode: 'card',\n        chartType: 'line',\n        chartInterval: 'daily',\n        selectedFields: [\n          { path: 'data.currency', label: 'Base', type: 'string' },\n          { path: 'data.rates.USD', label: 'USD', type: 'string' },\n          { path: 'data.rates.GBP', label: 'GBP', type: 'string' },\n          { path: 'data.rates.JPY', label: 'JPY', type: 'string' },\n          { path: 'data.rates.CHF', label: 'CHF', type: 'string' },\n        ],\n      },\n      {\n        name: 'GBP Exchange Rates',\n        apiUrl: 'https://api.coinbase.com/v2/exchange-rates?currency=GBP',\n        refreshInterval: 60,\n        displayMode: 'card',\n        chartType: 'line',\n        chartInterval: 'daily',\n        selectedFields: [\n          { path: 'data.currency', label: 'Base', type: 'string' },\n          { path: 'data.rates.USD', label: 'USD', type: 'string' },\n          { path: 'data.rates.EUR', label: 'EUR', type: 'string' },\n          { path: 'data.rates.JPY', label: 'JPY', type: 'string' },\n        ],\n      },\n    ],\n  },\n  {\n    id: 'stablecoins',\n    name: 'Stablecoin Watch',\n    description: 'Monitor stablecoin rates and their USD pegs',\n    icon: 'Coins',\n    color: 'from-blue-500 to-indigo-500',\n    widgets: [\n      {\n        name: 'USDT Rates',\n        apiUrl: 'https://api.coinbase.com/v2/exchange-rates?currency=USDT',\n        refreshInterval: 30,\n        displayMode: 'card',\n        chartType: 'line',\n        chartInterval: 'daily',\n        selectedFields: [\n          { path: 'data.currency', label: 'Currency', type: 'string' },\n          { path: 'data.rates.USD', label: 'USD', type: 'string' },\n          { path: 'data.rates.EUR', label: 'EUR', type: 'string' },\n          { path: 'data.rates.BTC', label: 'BTC', type: 'string' },\n        ],\n      },\n      {\n        name: 'USDC Rates',\n        apiUrl: 'https://api.coinbase.com/v2/exchange-rates?currency=USDC',\n        refreshInterval: 30,\n        displayMode: 'card',\n        chartType: 'line',\n        chartInterval: 'daily',\n        selectedFields: [\n          { path: 'data.currency', label: 'Currency', type: 'string' },\n          { path: 'data.rates.USD', label: 'USD', type: 'string' },\n          { path: 'data.rates.EUR', label: 'EUR', type: 'string' },\n          { path: 'data.rates.BTC', label: 'BTC', type: 'string' },\n        ],\n      },\n      {\n        name: 'DAI Rates',\n        apiUrl: 'https://api.coinbase.com/v2/exchange-rates?currency=DAI',\n        refreshInterval: 30,\n        displayMode: 'card',\n        chartType: 'line',\n        chartInterval: 'daily',\n        selectedFields: [\n          { path: 'data.currency', label: 'Currency', type: 'string' },\n          { path: 'data.rates.USD', label: 'USD', type: 'string' },\n          { path: 'data.rates.EUR', label: 'EUR', type: 'string' },\n        ],\n      },\n    ],\n  },\n];\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4674, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/dashboard/TemplatesModal.tsx"],"sourcesContent":["'use client';\n\nimport { Bitcoin, DollarSign, Coins, ArrowRight, Sparkles } from 'lucide-react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { useDashboardStore } from '@/store/dashboardStore';\nimport { dashboardTemplates, DashboardTemplate } from '@/data/templates';\nimport { cn } from '@/lib/utils';\nimport { toast } from 'sonner';\n\ninterface TemplatesModalProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nconst iconMap: Record<string, React.ElementType> = {\n  Bitcoin,\n  DollarSign,\n  Coins,\n};\n\nexport function TemplatesModal({ open, onClose }: TemplatesModalProps) {\n  const { widgets, addWidget } = useDashboardStore();\n\n  const handleApplyTemplate = (template: DashboardTemplate) => {\n    template.widgets.forEach((widgetTemplate) => {\n      addWidget({\n        name: widgetTemplate.name,\n        apiUrl: widgetTemplate.apiUrl,\n        refreshInterval: widgetTemplate.refreshInterval,\n        displayMode: widgetTemplate.displayMode,\n        chartType: widgetTemplate.chartType,\n        chartInterval: widgetTemplate.chartInterval,\n        selectedFields: widgetTemplate.selectedFields,\n        connectionType: 'http',\n      });\n    });\n\n    toast.success(`${template.name} template applied!`, {\n      description: `Added ${template.widgets.length} widgets to your dashboard.`,\n    });\n\n    onClose();\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onClose}>\n      <DialogContent className=\"glass-card max-w-2xl p-0 gap-0 border-border/50\">\n        <DialogHeader className=\"p-6 pb-4 border-b border-border/50\">\n          <DialogTitle className=\"flex items-center gap-2 text-xl font-semibold\">\n            <Sparkles className=\"w-5 h-5 text-primary\" />\n            Dashboard Templates\n          </DialogTitle>\n          <p className=\"text-sm text-muted-foreground mt-1\">\n            Get started quickly with pre-configured widget sets\n          </p>\n        </DialogHeader>\n\n        <div className=\"p-6 space-y-4 max-h-[60vh] overflow-y-auto scrollbar-thin\">\n          {dashboardTemplates.map((template) => {\n            const Icon = iconMap[template.icon] || Bitcoin;\n            \n            return (\n              <div\n                key={template.id}\n                className=\"group relative p-4 rounded-xl border border-border/50 bg-secondary/20 \n                         hover:bg-secondary/40 hover:border-primary/30 transition-all duration-300\"\n              >\n                <div className=\"flex items-start gap-4\">\n                  <div\n                    className={cn(\n                      \"p-3 rounded-xl bg-gradient-to-br shrink-0\",\n                      template.color\n                    )}\n                  >\n                    <Icon className=\"w-6 h-6 text-white\" />\n                  </div>\n                  \n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"font-semibold text-base mb-1\">{template.name}</h3>\n                    <p className=\"text-sm text-muted-foreground mb-3\">\n                      {template.description}\n                    </p>\n                    \n                    <div className=\"flex flex-wrap gap-2\">\n                      {template.widgets.map((widget, index) => (\n                        <span\n                          key={index}\n                          className=\"px-2 py-1 text-xs rounded-md bg-background/50 border border-border/50\"\n                        >\n                          {widget.name}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  <Button\n                    onClick={() => handleApplyTemplate(template)}\n                    size=\"sm\"\n                    className=\"shrink-0 gap-1 opacity-0 group-hover:opacity-100 transition-opacity\"\n                  >\n                    Apply\n                    <ArrowRight className=\"w-3 h-3\" />\n                  </Button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        <div className=\"p-4 border-t border-border/50 bg-muted/30\">\n          <p className=\"text-xs text-muted-foreground text-center\">\n            Templates add widgets to your existing dashboard. You can remove or customize them afterwards.\n          </p>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAeA,MAAM,UAA6C;IACjD,SAAA,sNAAO;IACP,YAAA,mOAAU;IACV,OAAA,gNAAK;AACP;AAEO,SAAS,eAAe,EAAE,IAAI,EAAE,OAAO,EAAuB;;IACnE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAA,sJAAiB;IAEhD,MAAM,sBAAsB,CAAC;QAC3B,SAAS,OAAO,CAAC,OAAO,CAAC,CAAC;YACxB,UAAU;gBACR,MAAM,eAAe,IAAI;gBACzB,QAAQ,eAAe,MAAM;gBAC7B,iBAAiB,eAAe,eAAe;gBAC/C,aAAa,eAAe,WAAW;gBACvC,WAAW,eAAe,SAAS;gBACnC,eAAe,eAAe,aAAa;gBAC3C,gBAAgB,eAAe,cAAc;gBAC7C,gBAAgB;YAClB;QACF;QAEA,oJAAK,CAAC,OAAO,CAAC,GAAG,SAAS,IAAI,CAAC,kBAAkB,CAAC,EAAE;YAClD,aAAa,CAAC,MAAM,EAAE,SAAS,OAAO,CAAC,MAAM,CAAC,2BAA2B,CAAC;QAC5E;QAEA;IACF;IAEA,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,sJAAa;YAAC,WAAU;;8BACvB,6LAAC,qJAAY;oBAAC,WAAU;;sCACtB,6LAAC,oJAAW;4BAAC,WAAU;;8CACrB,6LAAC,yNAAQ;oCAAC,WAAU;;;;;;gCAAyB;;;;;;;sCAG/C,6LAAC;4BAAE,WAAU;sCAAqC;;;;;;;;;;;;8BAKpD,6LAAC;oBAAI,WAAU;8BACZ,iJAAkB,CAAC,GAAG,CAAC,CAAC;wBACvB,MAAM,OAAO,OAAO,CAAC,SAAS,IAAI,CAAC,IAAI,sNAAO;wBAE9C,qBACE,6LAAC;4BAEC,WAAU;sCAGV,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,WAAW,IAAA,4HAAE,EACX,6CACA,SAAS,KAAK;kDAGhB,cAAA,6LAAC;4CAAK,WAAU;;;;;;;;;;;kDAGlB,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DAAgC,SAAS,IAAI;;;;;;0DAC3D,6LAAC;gDAAE,WAAU;0DACV,SAAS,WAAW;;;;;;0DAGvB,6LAAC;gDAAI,WAAU;0DACZ,SAAS,OAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,sBAC7B,6LAAC;wDAEC,WAAU;kEAET,OAAO,IAAI;uDAHP;;;;;;;;;;;;;;;;kDASb,6LAAC,+IAAM;wCACL,SAAS,IAAM,oBAAoB;wCACnC,MAAK;wCACL,WAAU;;4CACX;0DAEC,6LAAC,mOAAU;gDAAC,WAAU;;;;;;;;;;;;;;;;;;2BAtCrB,SAAS,EAAE;;;;;oBA2CtB;;;;;;8BAGF,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAE,WAAU;kCAA4C;;;;;;;;;;;;;;;;;;;;;;AAOnE;GAjGgB;;QACiB,sJAAiB;;;KADlC"}},
    {"offset": {"line": 4907, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ui/radio-group.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\";\nimport { Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return <RadioGroupPrimitive.Root className={cn(\"grid gap-2\", className)} {...props} ref={ref} />;\n});\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName;\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  );\n});\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;\n\nexport { RadioGroup, RadioGroupItem };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,2BAAa,2KAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBAAO,6LAAC,qLAAwB;QAAC,WAAW,IAAA,4HAAE,EAAC,cAAc;QAAa,GAAG,KAAK;QAAE,KAAK;;;;;;AAC3F;;AACA,WAAW,WAAW,GAAG,qLAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,2KAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,qLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,0LAA6B;YAAC,WAAU;sBACvC,cAAA,6LAAC,mNAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;;AACA,eAAe,WAAW,GAAG,qLAAwB,CAAC,WAAW"}},
    {"offset": {"line": 4976, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/dashboard/ExportImportModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef } from 'react';\r\nimport { Download, Upload, FileJson, AlertCircle, Check, Trash2 } from 'lucide-react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Label } from '@/components/ui/label';\r\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\nimport { useDashboardStore, DashboardExport } from '@/store/dashboardStore';\r\nimport { toast } from 'sonner';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface ExportImportModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport function ExportImportModal({ open, onClose }: ExportImportModalProps) {\r\n  const [activeTab, setActiveTab] = useState<'export' | 'import'>('export');\r\n  const [importMode, setImportMode] = useState<'replace' | 'merge'>('merge');\r\n  const [importFile, setImportFile] = useState<File | null>(null);\r\n  const [importPreview, setImportPreview] = useState<DashboardExport | null>(null);\r\n  const [importError, setImportError] = useState<string | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const { widgets, exportDashboard, importDashboard, clearAllWidgets } = useDashboardStore();\r\n\r\n  const handleExport = () => {\r\n    const data = exportDashboard();\r\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `finboard-dashboard-${new Date().toISOString().split('T')[0]}.json`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n    \r\n    toast.success('Dashboard exported successfully!', {\r\n      description: `Exported ${data.widgets.length} widget(s)`,\r\n    });\r\n  };\r\n\r\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setImportFile(file);\r\n    setImportError(null);\r\n    setImportPreview(null);\r\n\r\n    try {\r\n      const text = await file.text();\r\n      const data = JSON.parse(text) as DashboardExport;\r\n\r\n      if (!data.version || !data.widgets || !Array.isArray(data.widgets)) {\r\n        throw new Error('Invalid dashboard file format');\r\n      }\r\n\r\n      setImportPreview(data);\r\n    } catch (error) {\r\n      setImportError(error instanceof Error ? error.message : 'Failed to parse file');\r\n      setImportFile(null);\r\n    }\r\n  };\r\n\r\n  const handleImport = () => {\r\n    if (!importPreview) return;\r\n\r\n    const result = importDashboard(importPreview, importMode);\r\n    \r\n    if (result.success) {\r\n      toast.success(result.message);\r\n      handleClose();\r\n    } else {\r\n      toast.error(result.message);\r\n    }\r\n  };\r\n\r\n  const handleClearAll = () => {\r\n    if (confirm('Are you sure you want to delete all widgets? This cannot be undone.')) {\r\n      clearAllWidgets();\r\n      toast.success('All widgets cleared');\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setImportFile(null);\r\n    setImportPreview(null);\r\n    setImportError(null);\r\n    setImportMode('merge');\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={handleClose}>\r\n      <DialogContent className=\"glass-card max-w-lg p-0 gap-0 border-border/50\">\r\n        <DialogHeader className=\"p-6 pb-4 border-b border-border/50\">\r\n          <DialogTitle className=\"flex items-center gap-2 text-xl font-semibold\">\r\n            <FileJson className=\"w-5 h-5 text-primary\" />\r\n            Export / Import Dashboard\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        {/* Tab Buttons */}\r\n        <div className=\"flex border-b border-border/50\">\r\n          <button\r\n            onClick={() => setActiveTab('export')}\r\n            className={cn(\r\n              \"flex-1 px-4 py-3 text-sm font-medium transition-colors\",\r\n              activeTab === 'export' \r\n                ? \"text-primary border-b-2 border-primary\" \r\n                : \"text-muted-foreground hover:text-foreground\"\r\n            )}\r\n          >\r\n            <Download className=\"w-4 h-4 inline-block mr-2\" />\r\n            Export\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('import')}\r\n            className={cn(\r\n              \"flex-1 px-4 py-3 text-sm font-medium transition-colors\",\r\n              activeTab === 'import' \r\n                ? \"text-primary border-b-2 border-primary\" \r\n                : \"text-muted-foreground hover:text-foreground\"\r\n            )}\r\n          >\r\n            <Upload className=\"w-4 h-4 inline-block mr-2\" />\r\n            Import\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {activeTab === 'export' ? (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"p-4 rounded-lg bg-secondary/30 border border-border/50\">\r\n                <h3 className=\"font-medium mb-2\">Current Dashboard</h3>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {widgets.length} widget{widgets.length !== 1 ? 's' : ''} configured\r\n                </p>\r\n              </div>\r\n\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Export your dashboard configuration as a JSON file. This includes all widget settings,\r\n                API URLs, and display preferences. Your data is not included in the export.\r\n              </p>\r\n\r\n              <div className=\"flex gap-3\">\r\n                <Button onClick={handleExport} className=\"flex-1 gap-2\" disabled={widgets.length === 0}>\r\n                  <Download className=\"w-4 h-4\" />\r\n                  Export Dashboard\r\n                </Button>\r\n                <Button \r\n                  variant=\"destructive\" \r\n                  onClick={handleClearAll}\r\n                  disabled={widgets.length === 0}\r\n                  className=\"gap-2\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4\" />\r\n                  Clear All\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <div \r\n                onClick={() => fileInputRef.current?.click()}\r\n                className={cn(\r\n                  \"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\",\r\n                  importError \r\n                    ? \"border-destructive/50 bg-destructive/5\" \r\n                    : importPreview \r\n                      ? \"border-success/50 bg-success/5\"\r\n                      : \"border-border/50 hover:border-primary/50 hover:bg-primary/5\"\r\n                )}\r\n              >\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  accept=\".json\"\r\n                  onChange={handleFileSelect}\r\n                  className=\"hidden\"\r\n                />\r\n                \r\n                {importError ? (\r\n                  <>\r\n                    <AlertCircle className=\"w-10 h-10 text-destructive mx-auto mb-2\" />\r\n                    <p className=\"text-sm text-destructive\">{importError}</p>\r\n                    <p className=\"text-xs text-muted-foreground mt-1\">Click to try again</p>\r\n                  </>\r\n                ) : importPreview ? (\r\n                  <>\r\n                    <Check className=\"w-10 h-10 text-success mx-auto mb-2\" />\r\n                    <p className=\"text-sm font-medium\">{importFile?.name}</p>\r\n                    <p className=\"text-xs text-muted-foreground mt-1\">\r\n                      {importPreview.widgets.length} widget(s)  Exported {new Date(importPreview.exportedAt).toLocaleDateString()}\r\n                    </p>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Upload className=\"w-10 h-10 text-muted-foreground mx-auto mb-2\" />\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      Click to select a dashboard JSON file\r\n                    </p>\r\n                  </>\r\n                )}\r\n              </div>\r\n\r\n              {importPreview && (\r\n                <>\r\n                  <div className=\"space-y-3\">\r\n                    <Label>Import Mode</Label>\r\n                    <RadioGroup value={importMode} onValueChange={(v) => setImportMode(v as 'replace' | 'merge')}>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <RadioGroupItem value=\"merge\" id=\"merge\" />\r\n                        <Label htmlFor=\"merge\" className=\"font-normal cursor-pointer\">\r\n                          Merge - Add to existing widgets\r\n                        </Label>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <RadioGroupItem value=\"replace\" id=\"replace\" />\r\n                        <Label htmlFor=\"replace\" className=\"font-normal cursor-pointer\">\r\n                          Replace - Remove existing widgets first\r\n                        </Label>\r\n                      </div>\r\n                    </RadioGroup>\r\n                  </div>\r\n\r\n                  <div className=\"p-3 rounded-lg bg-secondary/30 border border-border/50\">\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      {importMode === 'merge' \r\n                        ? `This will add ${importPreview.widgets.length} widget(s) to your existing ${widgets.length} widget(s).`\r\n                        : `This will replace your ${widgets.length} widget(s) with ${importPreview.widgets.length} new widget(s).`\r\n                      }\r\n                    </p>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <Button \r\n                onClick={handleImport} \r\n                className=\"w-full gap-2\" \r\n                disabled={!importPreview}\r\n              >\r\n                <Upload className=\"w-4 h-4\" />\r\n                Import Dashboard\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5500, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/dashboard/ApiKeyModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Key, Eye, EyeOff, Plus, Trash2, Check, AlertCircle } from 'lucide-react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { toast } from 'sonner';\r\n\r\ninterface ApiKey {\r\n  id: string;\r\n  name: string;\r\n  key: string;\r\n  provider: string;\r\n  createdAt: string;\r\n}\r\n\r\ninterface ApiKeyModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport function ApiKeyModal({ open, onClose }: ApiKeyModalProps) {\r\n  const [keys, setKeys] = useState<ApiKey[]>([]);\r\n  const [newKeyName, setNewKeyName] = useState('');\r\n  const [newKeyProvider, setNewKeyProvider] = useState('');\r\n  const [newKeyValue, setNewKeyValue] = useState('');\r\n  const [showKey, setShowKey] = useState<Record<string, boolean>>({});\r\n  const [isAdding, setIsAdding] = useState(false);\r\n\r\n  // Load keys from localStorage\r\n  useEffect(() => {\r\n    if (open) {\r\n      const stored = localStorage.getItem('finboard_api_keys');\r\n      if (stored) {\r\n        try {\r\n          setKeys(JSON.parse(stored));\r\n        } catch (error) {\r\n          console.error('Failed to load API keys:', error);\r\n        }\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  const saveKeys = (updatedKeys: ApiKey[]) => {\r\n    setKeys(updatedKeys);\r\n    localStorage.setItem('finboard_api_keys', JSON.stringify(updatedKeys));\r\n  };\r\n\r\n  const handleAddKey = () => {\r\n    if (!newKeyName || !newKeyProvider || !newKeyValue) {\r\n      toast.error('All fields are required');\r\n      return;\r\n    }\r\n\r\n    const newKey: ApiKey = {\r\n      id: `key-${Date.now()}`,\r\n      name: newKeyName,\r\n      provider: newKeyProvider,\r\n      key: newKeyValue,\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n\r\n    saveKeys([...keys, newKey]);\r\n    \r\n    setNewKeyName('');\r\n    setNewKeyProvider('');\r\n    setNewKeyValue('');\r\n    setIsAdding(false);\r\n    \r\n    toast.success('API key added successfully');\r\n  };\r\n\r\n  const handleDeleteKey = (id: string) => {\r\n    saveKeys(keys.filter((k) => k.id !== id));\r\n    toast.success('API key removed');\r\n  };\r\n\r\n  const toggleKeyVisibility = (id: string) => {\r\n    setShowKey((prev) => ({ ...prev, [id]: !prev[id] }));\r\n  };\r\n\r\n  const maskKey = (key: string) => {\r\n    if (key.length <= 8) return '';\r\n    return key.substring(0, 4) + '' + key.substring(key.length - 4);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"glass-card max-w-2xl max-h-[85vh] p-0 gap-0 border-border/50\">\r\n        <DialogHeader className=\"p-6 pb-4 border-b border-border/50\">\r\n          <DialogTitle className=\"flex items-center gap-2 text-xl font-semibold\">\r\n            <Key className=\"w-5 h-5 text-primary\" />\r\n            API Key Management\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <ScrollArea className=\"max-h-[calc(85vh-140px)]\">\r\n          <div className=\"p-6 space-y-6\">\r\n            {/* Info Banner */}\r\n            <div className=\"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 flex gap-3\">\r\n              <AlertCircle className=\"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5\" />\r\n              <div className=\"space-y-1\">\r\n                <p className=\"text-sm font-medium text-blue-500\">Secure Storage Notice</p>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  API keys are stored locally in your browser. For production use, implement server-side key management.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Existing Keys */}\r\n            {keys.length > 0 && (\r\n              <div className=\"space-y-3\">\r\n                <h3 className=\"text-sm font-semibold\">Saved API Keys ({keys.length})</h3>\r\n                {keys.map((apiKey) => (\r\n                  <div\r\n                    key={apiKey.id}\r\n                    className=\"bg-secondary/30 border border-border/50 rounded-lg p-4 space-y-3\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"font-medium\">{apiKey.name}</p>\r\n                        <p className=\"text-xs text-muted-foreground\">{apiKey.provider}</p>\r\n                      </div>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        className=\"h-8 w-8 text-destructive hover:text-destructive\"\r\n                        onClick={() => handleDeleteKey(apiKey.id)}\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </Button>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Input\r\n                        type={showKey[apiKey.id] ? 'text' : 'password'}\r\n                        value={showKey[apiKey.id] ? apiKey.key : maskKey(apiKey.key)}\r\n                        readOnly\r\n                        className=\"bg-background/50 border-border/50 font-mono text-xs\"\r\n                      />\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        className=\"h-9 w-9 flex-shrink-0\"\r\n                        onClick={() => toggleKeyVisibility(apiKey.id)}\r\n                      >\r\n                        {showKey[apiKey.id] ? (\r\n                          <EyeOff className=\"w-4 h-4\" />\r\n                        ) : (\r\n                          <Eye className=\"w-4 h-4\" />\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                    \r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      Added {new Date(apiKey.createdAt).toLocaleDateString()}\r\n                    </p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {/* Add New Key */}\r\n            {isAdding ? (\r\n              <div className=\"space-y-4 bg-secondary/20 border border-border/50 rounded-lg p-4\">\r\n                <h3 className=\"text-sm font-semibold\">Add New API Key</h3>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"keyName\">Key Name</Label>\r\n                  <Input\r\n                    id=\"keyName\"\r\n                    placeholder=\"e.g., Alpha Vantage Stock API\"\r\n                    value={newKeyName}\r\n                    onChange={(e) => setNewKeyName(e.target.value)}\r\n                    className=\"bg-background/50 border-border/50\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"provider\">Provider</Label>\r\n                  <Input\r\n                    id=\"provider\"\r\n                    placeholder=\"e.g., Alpha Vantage, Finnhub, CoinGecko\"\r\n                    value={newKeyProvider}\r\n                    onChange={(e) => setNewKeyProvider(e.target.value)}\r\n                    className=\"bg-background/50 border-border/50\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"apiKey\">API Key</Label>\r\n                  <Input\r\n                    id=\"apiKey\"\r\n                    type=\"password\"\r\n                    placeholder=\"Enter your API key\"\r\n                    value={newKeyValue}\r\n                    onChange={(e) => setNewKeyValue(e.target.value)}\r\n                    className=\"bg-background/50 border-border/50 font-mono\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"flex gap-2\">\r\n                  <Button\r\n                    onClick={handleAddKey}\r\n                    className=\"flex-1\"\r\n                    disabled={!newKeyName || !newKeyProvider || !newKeyValue}\r\n                  >\r\n                    <Check className=\"w-4 h-4 mr-2\" />\r\n                    Save Key\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    onClick={() => {\r\n                      setIsAdding(false);\r\n                      setNewKeyName('');\r\n                      setNewKeyProvider('');\r\n                      setNewKeyValue('');\r\n                    }}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"w-full border-dashed border-2\"\r\n                onClick={() => setIsAdding(true)}\r\n              >\r\n                <Plus className=\"w-4 h-4 mr-2\" />\r\n                Add New API Key\r\n              </Button>\r\n            )}\r\n\r\n            {/* Common Providers Guide */}\r\n            <div className=\"space-y-3 pt-4 border-t border-border/50\">\r\n              <h3 className=\"text-sm font-semibold\">Popular API Providers</h3>\r\n              <div className=\"grid grid-cols-2 gap-3 text-xs\">\r\n                <div className=\"bg-secondary/20 rounded-lg p-3\">\r\n                  <p className=\"font-medium mb-1\">Alpha Vantage</p>\r\n                  <a\r\n                    href=\"https://www.alphavantage.co/support/#api-key\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-primary hover:underline\"\r\n                  >\r\n                    Get API Key \r\n                  </a>\r\n                </div>\r\n                <div className=\"bg-secondary/20 rounded-lg p-3\">\r\n                  <p className=\"font-medium mb-1\">Finnhub</p>\r\n                  <a\r\n                    href=\"https://finnhub.io/register\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-primary hover:underline\"\r\n                  >\r\n                    Get API Key \r\n                  </a>\r\n                </div>\r\n                <div className=\"bg-secondary/20 rounded-lg p-3\">\r\n                  <p className=\"font-medium mb-1\">CoinGecko</p>\r\n                  <a\r\n                    href=\"https://www.coingecko.com/en/api\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-primary hover:underline\"\r\n                  >\r\n                    Get API Key \r\n                  </a>\r\n                </div>\r\n                <div className=\"bg-secondary/20 rounded-lg p-3\">\r\n                  <p className=\"font-medium mb-1\">Polygon.io</p>\r\n                  <a\r\n                    href=\"https://polygon.io/dashboard/signup\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-primary hover:underline\"\r\n                  >\r\n                    Get API Key \r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ScrollArea>\r\n\r\n        <div className=\"p-6 pt-4 border-t border-border/50\">\r\n          <Button onClick={onClose} className=\"w-full\">\r\n            Done\r\n          </Button>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E;KAFS"}},
    {"offset": {"line": 6203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/dashboard/CacheStatsModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { BarChart3, Database, AlertTriangle, RefreshCw, Trash2, Clock } from 'lucide-react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { apiCache } from '@/lib/cache';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { toast } from 'sonner';\r\n\r\ninterface CacheStatsModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport function CacheStatsModal({ open, onClose }: CacheStatsModalProps) {\r\n  const [stats, setStats] = useState<{ cacheSize: number; rateLimitedDomains: string[] }>({\r\n    cacheSize: 0,\r\n    rateLimitedDomains: [],\r\n  });\r\n  const [refreshKey, setRefreshKey] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      updateStats();\r\n    }\r\n  }, [open, refreshKey]);\r\n\r\n  const updateStats = () => {\r\n    const currentStats = apiCache.getStats();\r\n    setStats(currentStats);\r\n  };\r\n\r\n  const handleClearCache = () => {\r\n    apiCache.clear();\r\n    updateStats();\r\n    toast.success('Cache cleared successfully');\r\n  };\r\n\r\n  const handleClearRateLimit = (domain: string) => {\r\n    // Create a dummy URL to clear the rate limit\r\n    apiCache.clearRateLimit(`https://${domain}`);\r\n    updateStats();\r\n    toast.success(`Rate limit cleared for ${domain}`);\r\n  };\r\n\r\n  const handleCleanup = () => {\r\n    apiCache.cleanup();\r\n    updateStats();\r\n    toast.success('Expired entries cleaned up');\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"glass-card max-w-2xl max-h-[85vh] p-0 gap-0 border-border/50\">\r\n        <DialogHeader className=\"p-6 pb-4 border-b border-border/50\">\r\n          <DialogTitle className=\"flex items-center gap-2 text-xl font-semibold\">\r\n            <BarChart3 className=\"w-5 h-5 text-primary\" />\r\n            Cache Statistics\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <ScrollArea className=\"max-h-[calc(85vh-140px)]\">\r\n          <div className=\"p-6 space-y-6\">\r\n            {/* Overview Cards */}\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <Database className=\"w-5 h-5 text-blue-500\" />\r\n                  <Badge variant=\"secondary\" className=\"bg-blue-500/20 text-blue-500 border-blue-500/30\">\r\n                    Active\r\n                  </Badge>\r\n                </div>\r\n                <p className=\"text-2xl font-bold text-blue-500\">{stats.cacheSize}</p>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">Cached Responses</p>\r\n              </div>\r\n\r\n              <div className=\"bg-gradient-to-br from-orange-500/10 to-orange-600/10 border border-orange-500/20 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <AlertTriangle className=\"w-5 h-5 text-orange-500\" />\r\n                  <Badge variant=\"secondary\" className=\"bg-orange-500/20 text-orange-500 border-orange-500/30\">\r\n                    Limited\r\n                  </Badge>\r\n                </div>\r\n                <p className=\"text-2xl font-bold text-orange-500\">{stats.rateLimitedDomains.length}</p>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">Rate Limited Domains</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={handleCleanup}\r\n                className=\"flex-1 gap-2\"\r\n              >\r\n                <Clock className=\"w-4 h-4\" />\r\n                Clean Expired\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={handleClearCache}\r\n                className=\"flex-1 gap-2\"\r\n              >\r\n                <Trash2 className=\"w-4 h-4\" />\r\n                Clear All Cache\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  updateStats();\r\n                  setRefreshKey((k) => k + 1);\r\n                }}\r\n                className=\"gap-2\"\r\n              >\r\n                <RefreshCw className=\"w-4 h-4\" />\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Cache Info */}\r\n            <div className=\"space-y-3\">\r\n              <h3 className=\"text-sm font-semibold\">How Caching Works</h3>\r\n              <div className=\"bg-secondary/20 border border-border/50 rounded-lg p-4 space-y-2 text-xs text-muted-foreground\">\r\n                <p> API responses are cached for 30 seconds by default</p>\r\n                <p> Each widget can configure its own cache TTL</p>\r\n                <p> Cache reduces API calls and improves performance</p>\r\n                <p> Expired entries are automatically cleaned up every 5 minutes</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Rate Limited Domains */}\r\n            {stats.rateLimitedDomains.length > 0 && (\r\n              <div className=\"space-y-3\">\r\n                <h3 className=\"text-sm font-semibold flex items-center gap-2\">\r\n                  <AlertTriangle className=\"w-4 h-4 text-orange-500\" />\r\n                  Rate Limited Domains ({stats.rateLimitedDomains.length})\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  {stats.rateLimitedDomains.map((domain) => (\r\n                    <div\r\n                      key={domain}\r\n                      className=\"bg-secondary/30 border border-orange-500/20 rounded-lg p-3 flex items-center justify-between\"\r\n                    >\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <AlertTriangle className=\"w-4 h-4 text-orange-500 flex-shrink-0\" />\r\n                        <div>\r\n                          <p className=\"text-sm font-medium\">{domain}</p>\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                            Temporarily blocked due to rate limiting\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleClearRateLimit(domain)}\r\n                        className=\"text-orange-500 hover:text-orange-600\"\r\n                      >\r\n                        Clear\r\n                      </Button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Note: Clearing a rate limit manually might result in further rate limiting if the API still enforces limits.\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {stats.rateLimitedDomains.length === 0 && (\r\n              <div className=\"bg-emerald-500/10 border border-emerald-500/20 rounded-lg p-4 flex items-center gap-3\">\r\n                <div className=\"p-2 rounded-full bg-emerald-500/20\">\r\n                  <Database className=\"w-5 h-5 text-emerald-500\" />\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-emerald-500\">All APIs Running Smoothly</p>\r\n                  <p className=\"text-xs text-muted-foreground\">No rate-limited domains detected</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Performance Tips */}\r\n            <div className=\"space-y-3 pt-4 border-t border-border/50\">\r\n              <h3 className=\"text-sm font-semibold\">Performance Tips</h3>\r\n              <div className=\"space-y-2 text-xs\">\r\n                <div className=\"bg-secondary/20 rounded-lg p-3\">\r\n                  <p className=\"font-medium mb-1\">Increase Refresh Intervals</p>\r\n                  <p className=\"text-muted-foreground\">\r\n                    Use longer refresh intervals (60s+) for widgets that don't need real-time updates\r\n                  </p>\r\n                </div>\r\n                <div className=\"bg-secondary/20 rounded-lg p-3\">\r\n                  <p className=\"font-medium mb-1\">Monitor Rate Limits</p>\r\n                  <p className=\"text-muted-foreground\">\r\n                    Check your API provider's rate limits and adjust widget refresh rates accordingly\r\n                  </p>\r\n                </div>\r\n                <div className=\"bg-secondary/20 rounded-lg p-3\">\r\n                  <p className=\"font-medium mb-1\">Use Caching Wisely</p>\r\n                  <p className=\"text-muted-foreground\">\r\n                    Cache helps reduce API calls, but you can manually refresh widgets when needed\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ScrollArea>\r\n\r\n        <div className=\"p-6 pt-4 border-t border-border/50\">\r\n          <Button onClick={onClose} className=\"w-full\">\r\n            Done\r\n          </Button>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6837, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\n\nimport { Moon, Sun } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\nimport { Button } from \"@/components/ui/button\";\n\nexport function ThemeToggle() {\n  const { theme, setTheme } = useTheme();\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={() => setTheme(theme === \"dark\" ? \"light\" : \"dark\")}\n      className=\"relative\"\n    >\n      <Sun className=\"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n      <Moon className=\"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n      <span className=\"sr-only\">Toggle theme</span>\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAA,+JAAQ;IAEpC,qBACE,6LAAC,+IAAM;QACL,SAAQ;QACR,MAAK;QACL,SAAS,IAAM,SAAS,UAAU,SAAS,UAAU;QACrD,WAAU;;0BAEV,6LAAC,0MAAG;gBAAC,WAAU;;;;;;0BACf,6LAAC,6MAAI;gBAAC,WAAU;;;;;;0BAChB,6LAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGhC;GAfgB;;QACc,+JAAQ;;;KADtB"}},
    {"offset": {"line": 6905, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/konar/OneDrive/Desktop/finboard/src/components/dashboard/Dashboard.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragEndEvent,\n} from '@dnd-kit/core';\nimport {\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n} from '@dnd-kit/sortable';\nimport { Plus, LayoutGrid, Activity, Sparkles, FileJson, Key, BarChart3 } from 'lucide-react';\nimport { useDashboardStore, Widget } from '@/store/dashboardStore';\nimport { WidgetCard } from './WidgetCard';\nimport { AddWidgetModal } from './AddWidgetModal';\nimport { EditWidgetModal } from './EditWidgetModal';\nimport { TemplatesModal } from './TemplatesModal';\nimport { ExportImportModal } from './ExportImportModal';\nimport { ApiKeyModal } from './ApiKeyModal';\nimport { CacheStatsModal } from './CacheStatsModal';\nimport { Button } from '@/components/ui/button';\nimport { ThemeToggle } from '@/components/ThemeToggle';\n\nexport function Dashboard() {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isTemplatesOpen, setIsTemplatesOpen] = useState(false);\n  const [isExportImportOpen, setIsExportImportOpen] = useState(false);\n  const [isApiKeyModalOpen, setIsApiKeyModalOpen] = useState(false);\n  const [isCacheStatsOpen, setIsCacheStatsOpen] = useState(false);\n  const [editingWidget, setEditingWidget] = useState<Widget | null>(null);\n  const { widgets, reorderWidgets } = useDashboardStore();\n  \n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n  \n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n    if (over && active.id !== over.id) {\n      reorderWidgets(active.id as string, over.id as string);\n    }\n  };\n\n  const handleEditWidget = (widget: Widget) => {\n    setEditingWidget(widget);\n  };\n\n  const handleCloseEdit = () => {\n    setEditingWidget(null);\n  };\n  \n  const sortedWidgets = [...widgets].sort((a, b) => a.order - b.order);\n  \n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"border-b border-border/50 bg-card/50 backdrop-blur-xl sticky top-0 z-40\">\n        <div className=\"container mx-auto px-3 sm:px-4 py-3 sm:py-4\">\n          <div className=\"flex items-center justify-between gap-2\">\n            <div className=\"flex items-center gap-2 sm:gap-3 min-w-0\">\n              <div className=\"p-1.5 sm:p-2 rounded-lg bg-primary/10 border border-primary/20 shrink-0\">\n                <Activity className=\"w-5 h-5 sm:w-6 sm:h-6 text-primary\" />\n              </div>\n              <div className=\"min-w-0\">\n                <h1 className=\"text-base sm:text-xl font-bold truncate\">Finance Dashboard</h1>\n                <p className=\"text-xs sm:text-sm text-muted-foreground hidden xs:block\">\n                  {widgets.length} widget{widgets.length !== 1 ? 's' : ''}  Real-time\n                </p>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center gap-1 sm:gap-2 shrink-0\">\n              <ThemeToggle />\n              <Button variant=\"outline\" size=\"icon\" onClick={() => setIsCacheStatsOpen(true)} className=\"hidden md:flex h-9 w-9\" title=\"Cache Statistics\">\n                <BarChart3 className=\"w-4 h-4\" />\n              </Button>\n              <Button variant=\"outline\" size=\"icon\" onClick={() => setIsApiKeyModalOpen(true)} className=\"hidden md:flex h-9 w-9\" title=\"API Keys\">\n                <Key className=\"w-4 h-4\" />\n              </Button>\n              <Button variant=\"outline\" onClick={() => setIsExportImportOpen(true)} className=\"gap-1.5 h-9 px-2 sm:px-4\">\n                <FileJson className=\"w-4 h-4\" />\n                <span className=\"hidden lg:inline\">Export/Import</span>\n              </Button>\n              <Button variant=\"outline\" onClick={() => setIsTemplatesOpen(true)} className=\"gap-1.5 h-9 px-2 sm:px-4\">\n                <Sparkles className=\"w-4 h-4\" />\n                <span className=\"hidden lg:inline\">Templates</span>\n              </Button>\n              <Button onClick={() => setIsModalOpen(true)} className=\"gap-1.5 h-9 px-2 sm:px-4\">\n                <Plus className=\"w-4 h-4\" />\n                <span className=\"hidden sm:inline\">Add Widget</span>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n      \n      {/* Main Content */}\n      <main className=\"container mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6\">\n        {widgets.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center min-h-[50vh] sm:min-h-[60vh] text-center px-4\">\n            <div className=\"p-4 sm:p-6 rounded-2xl bg-secondary/30 border border-border/50 mb-4 sm:mb-6\">\n              <LayoutGrid className=\"w-12 h-12 sm:w-16 sm:h-16 text-muted-foreground\" />\n            </div>\n            <h2 className=\"text-xl sm:text-2xl font-semibold mb-2\">Build Your Finance Dashboard</h2>\n            <p className=\"text-sm sm:text-base text-muted-foreground max-w-md mb-4 sm:mb-6\">\n              Create custom widgets by connecting to any finance API. Track stocks, crypto, \n              market data, and more in real-time.\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto\">\n              <Button variant=\"outline\" onClick={() => setIsTemplatesOpen(true)} size=\"lg\" className=\"gap-2\">\n                <Sparkles className=\"w-5 h-5\" />\n                Use a Template\n              </Button>\n              <Button onClick={() => setIsModalOpen(true)} size=\"lg\" className=\"gap-2\">\n                <Plus className=\"w-5 h-5\" />\n                Add Custom Widget\n              </Button>\n            </div>\n          </div>\n        ) : (\n          <DndContext\n            sensors={sensors}\n            collisionDetection={closestCenter}\n            onDragEnd={handleDragEnd}\n          >\n            <SortableContext\n              items={sortedWidgets.map((w) => w.id)}\n              strategy={rectSortingStrategy}\n            >\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4\">\n                {sortedWidgets.map((widget) => (\n                  <WidgetCard key={widget.id} widget={widget} onEdit={handleEditWidget} />\n                ))}\n                \n                {/* Add Widget Card */}\n                <button\n                  onClick={() => setIsModalOpen(true)}\n                  className=\"glass-card p-4 sm:p-6 border-dashed border-2 border-border/50 hover:border-primary/50 \n                           flex flex-col items-center justify-center gap-2 sm:gap-3 min-h-[180px] sm:min-h-[200px] \n                           transition-all duration-300 hover:bg-primary/5 group\"\n                >\n                  <div className=\"p-2 sm:p-3 rounded-full bg-secondary/50 group-hover:bg-primary/10 transition-colors\">\n                    <Plus className=\"w-5 h-5 sm:w-6 sm:h-6 text-muted-foreground group-hover:text-primary transition-colors\" />\n                  </div>\n                  <p className=\"text-xs sm:text-sm text-muted-foreground group-hover:text-foreground transition-colors text-center px-2\">\n                    Connect to a finance API and create a custom widget\n                  </p>\n                </button>\n              </div>\n            </SortableContext>\n          </DndContext>\n        )}\n      </main>\n      \n      <AddWidgetModal open={isModalOpen} onClose={() => setIsModalOpen(false)} />\n      <EditWidgetModal open={!!editingWidget} onClose={handleCloseEdit} widget={editingWidget} />\n      <TemplatesModal open={isTemplatesOpen} onClose={() => setIsTemplatesOpen(false)} />\n      <ExportImportModal open={isExportImportOpen} onClose={() => setIsExportImportOpen(false)} />\n      <ApiKeyModal open={isApiKeyModalOpen} onClose={() => setIsApiKeyModalOpen(false)} />\n      <CacheStatsModal open={isCacheStatsOpen} onClose={() => setIsCacheStatsOpen(false)} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}